<html>
<head>
	<style type="text/css">
	/* ========== Text Styles ========== */
hr { color: #000000}
body, table, span.rvts0 /* Normal text */
{
 font-size: 10pt;
 font-family: 'Arial', 'Helvetica', sans-serif;
 font-style: normal;
 font-weight: normal;
 color: #000000;
 text-decoration: none;
}
span.rvts1 /* Heading */
{
 font-weight: bold;
 color: #0000ff;
}
span.rvts2 /* Subheading */
{
 font-weight: bold;
 color: #000080;
}
span.rvts3 /* Keywords */
{
 font-style: italic;
 color: #800000;
}
a.rvts4, span.rvts4 /* Jump 1 */
{
 color: #008000;
 text-decoration: underline;
}
a.rvts5, span.rvts5 /* Jump 2 */
{
 color: #008000;
 text-decoration: underline;
}
span.rvts6
{
}
span.rvts7
{
 font-weight: bold;
 color: #0000ff;
}
span.rvts8
{
 font-weight: bold;
 color: #000080;
}
span.rvts9
{
 font-style: italic;
 color: #800000;
}
a.rvts10, span.rvts10
{
 color: #008000;
 text-decoration: underline;
}
a.rvts11, span.rvts11
{
 color: #808080;
 text-decoration: none;
}
a.rvts12, span.rvts12
{
 color: #0000ff;
 text-decoration: none;
}
a.rvts13, span.rvts13
{
 font-weight: bold;
 color: #0000ff;
 text-decoration: none;
}
span.rvts14
{
 font-weight: bold;
}
a.rvts15, span.rvts15
{
 font-family: 'Courier New', 'Courier', monospace;
 color: #808080;
 text-decoration: none;
}
span.rvts16
{
 font-family: 'Courier New', 'Courier', monospace;
 color: #808080;
}
span.rvts17
{
 color: #808080;
}
a.rvts18, span.rvts18
{
 font-weight: bold;
 color: #808080;
 text-decoration: none;
}
span.rvts19 /* Font Style */
{
 font-family: 'Tahoma', 'Geneva', sans-serif;
 font-style: italic;
 color: #c0c0c0;
}
a.rvts20, span.rvts20 /* Font Style */
{
 font-family: 'Tahoma', 'Geneva', sans-serif;
 font-style: italic;
 color: #6666ff;
 text-decoration: underline;
}
span.rvts21
{
}
span.rvts22
{
 font-family: 'Courier New', 'Courier', monospace;
}
span.rvts23
{
 color: #ff0000;
}
span.rvts24
{
 color: #0000ff;
}
span.rvts25
{
 color: #000000;
}
span.rvts26
{
 font-style: italic;
 color: #808080;
}
span.rvts27
{
}
a.rvts28, span.rvts28
{
 font-family: 'Courier New', 'Courier', monospace;
 text-decoration: none;
}
a.rvts29, span.rvts29
{
 font-weight: bold;
 text-decoration: none;
}
a.rvts30, span.rvts30
{
 color: ;
 text-decoration: none;
}
a.rvts31, span.rvts31
{
 color: #000000;
 text-decoration: none;
}
a.rvts32, span.rvts32
{
 font-style: italic;
 color: #808080;
 text-decoration: none;
}
span.rvts33
{
 font-size: 14pt;
 font-style: italic;
 font-weight: bold;
}
span.rvts34
{
}
span.rvts35
{
 font-weight: bold;
}
span.rvts36
{
 font-family: 'Courier New', 'Courier', monospace;
 font-weight: bold;
}
span.rvts37
{
}
span.rvts38
{
 font-style: italic;
}
span.rvts39
{
}
span.rvts40
{
}
span.rvts41
{
 font-style: italic;
}
a.rvts42, span.rvts42
{
 color: #808080;
 text-decoration: none;
}
span.rvts43
{
 color: #808080;
}
a.rvts44, span.rvts44
{
 text-decoration: none;
}
span.rvts45
{
 font-family: 'Courier New', 'Courier', monospace;
}
a.rvts46, span.rvts46
{
 color: #808080;
 text-decoration: none;
}
span.rvts47
{
 color: #808080;
}
a.rvts48, span.rvts48
{
 font-family: 'Courier New', 'Courier', monospace;
 color: #7f7f7f;
 text-decoration: none;
}
/* ========== Para Styles ========== */
p,ul,ol /* Paragraph Style */
{
 text-align: left;
 text-indent: 0px;
 padding: 0px 0px 0px 0px;
 margin: 0px 0px 0px 0px;
}
.rvps1 /* Centered */
{
 text-align: center;
}
.rvps2
{
 margin: 12px 0px 0px 0px;
}
.rvps3
{
 text-align: center;
 margin: 12px 0px 0px 0px;
}
.rvps4
{
 line-height: 1.20;
 margin: 12px 0px 0px 0px;
}
.rvps5
{
 text-align: center;
 line-height: 1.20;
 margin: 12px 0px 0px 0px;
}
.rvps6 /* Paragraph Style */
{
 text-align: center;
 border-color: #c0c0c0;
 border-style: solid;
 border-width: 1px;
 border-right: none;
 border-left: none;
 padding: 2px 0px 2px 0px;
 margin: 7px 0px 7px 0px;
}
.rvps7
{
 line-height: 1.20;
 margin: 12px 0px 0px 24px;
}
.rvps8
{
 line-height: 1.50;
 margin: 12px 0px 0px 0px;
}
.rvps9
{
 text-align: center;
 line-height: 1.50;
 margin: 12px 0px 0px 0px;
}
.rvps10
{
 text-align: left;
 text-indent: 0px;
 page-break-after: avoid;
 padding: 0px 0px 0px 0px;
 margin: 16px 0px 4px 0px;
}
.rvps11
{
}
.rvps12
{
 text-align: center;
}
.rvps13
{
 line-height: 1.50;
 margin: 12px 0px 0px 24px;
}
.rvps14
{
 line-height: 1.50;
 margin: 12px 0px 0px 48px;
}
.rvps15
{
 line-height: 1.50;
 margin: 12px 0px 0px 72px;
}
.rvps16
{
 line-height: 1.50;
 margin: 12px 0px 0px 96px;
}
.rvps17
{
 text-align: center;
 line-height: 1.50;
 margin: 12px 0px 0px 72px;
}
.rvps18
{
 margin: 12px 0px 0px 24px;
}
/* ========== Lists ========== */
.list0 {text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;}
.list1 {text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;}
.list2 {text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;}
.list3 {text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;}
.list4 {text-indent: 0px; margin-left: 40px; list-style-position: outside; list-style-type: circle;}
.list5 {text-indent: 0px; margin-left: 56px; list-style-position: outside; list-style-type: square;}
.list6 {text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;}
.list7 {text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;}
.list8 {text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: lower-alpha;}
.list9 {text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: lower-roman;}
</style>
</head>

<body>
       <a name="Introduction"></a><h1>Introduction</h1>
<p></p>
<p class="rvps5"><img alt="" style="padding : 1px;" src="lib/DQMH Logo.png"></p>
<p class="rvps4"><span class="rvts6">The Delacor Queued Message Handler (DQMH) template is based on the </span><a class="rvts12" href="http://www.ni.com/tutorial/53391/en/" target="_blank">National Instruments Queued Message Handler Project Template (NI QMH)</a><span class="rvts6">. The DQMH improves the NI QMH by:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps4"><span class="rvts6">providing safe,</span><a class="rvts11" href="#DQMH%20Event"> event-based</a><span class="rvts6"> message handling and </span><a class="rvts11" href="#ModifyingthisTemplate">scripting tools</a><a class="rvts12" href="#ModifyingthisTemplate">,</a><a class="rvts11" href="#ModifyingthisTemplate"> </a><span class="rvts6">which makes development easier</span></li>
<li class="rvps4"><span class="rvts6">encouraging consistent style among different developers in the same project, which improves efficiency</span></li>
</ul>
<p class="rvps4"><span class="rvts6">The DQMH provides the greatest benefits in applications employing multiple modules running in parallel that communicate with each other. These different modules can run either with their front panel open or headless (with their front panel closed). The DQMH can also be used for applications that have a single module in which a </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> has the capability of eavesdropping on the different </span><a class="rvts11" href="#DQMH%20Event">DQMH events</a><span class="rvts6"> and messages (both in development mode and in an executable).</span></p>
<p class="rvps4"><span class="rvts6">Each DQMH module has a structure similar to a National Instruments Queued Message Handler module, and it has a </span><a class="rvts15" href="#Test%20Module%20API">Test DQMH Module API.vi</a><span class="rvts16"> </span><span class="rvts6">(also known as the "</span><a class="rvts11" href="#Test%20Module%20API">Tester</a><a class="rvts12" href="#Test%20Module%20API">"</a><span class="rvts6">) to help troubleshoot, debug, and eavesdrop on the communications between the DQMH Module and its calling code. If the developer is creating an application that will employ multiple DQMH modules, the best place to start is with the Project Templates. This is done by clicking </span><a class="rvts11" href="#Create%20Project">Create Project</a><span class="rvts6"> from the </span><a class="rvts11" href="http://zone.ni.com/reference/en-XX/help/371361N-01/lvdialog/getting_started_window/" target="_blank">Getting Started Window</a><span class="rvts17"> </span><span class="rvts6">in </span><a class="rvts12" href="http://ni.com/labview" target="_blank">LabVIEW</a><span class="rvts6">, and then clicking the</span><span class="rvts14"> </span><span class="rvts6">DQMH Project Template. If the developer is creating a single DQMH module that will be called by their existing code or used as a stand-alone application, open an existing project and use the </span><a class="rvts18" href="#AddingaNewDQMHModule">Tools&gt;Delacor&gt;Add DQMH Module</a><span class="rvts6"> utility.</span></p>
<p class="rvps4"><span class="rvts6">This documentation assumes that you are familiar with </span><a class="rvts12" href="http://www.ni.com/white-paper/3023/en/" target="_blank">Producer/Consumer design pattern</a><span class="rvts6"> and with the </span><a class="rvts12" href="http://www.ni.com/tutorial/53391/en/" target="_blank">NI QMH Project Template</a><span class="rvts6">. If you are not familiar with these topics, the NI QMH documentation can be found by clicking </span><span class="rvts14">Create Project</span><span class="rvts6"> from the </span><a class="rvts13" href="http://zone.ni.com/reference/en-XX/help/371361N-01/lvdialog/getting_started_window/" target="_blank">Getting Started Window</a><span class="rvts6"> in LabVIEW and then clicking the </span><span class="rvts14">More Information</span><span class="rvts6"> link in the NI QMH project description. You can also create a project based on this template, which will include a copy of the documentation.</span></p>
<p></p>
<br><br><a name="DQMHTOC"><h1>Table of Contents</h1></a><ul style="list-style-type:none"><li style="margin-left: 20px;"><a href="#Introduction">Introduction</a></li><li style="margin-left: 40px;"><a href="#ChangeHistory">Change History</a></li><li style="margin-left: 40px;"><a href="#UseCases">Use Cases</a></li><li style="margin-left: 40px;"><a href="#DQMHBackground">DQMH Background</a></li><li style="margin-left: 20px;"><a href="#GettingStarted">Getting Started</a></li><li style="margin-left: 40px;"><a href="#SystemRequirements">System Requirements</a></li><li style="margin-left: 40px;"><a href="#GettingHelp">Getting Help</a></li><li style="margin-left: 40px;"><a href="#Overview">Overview</a></li><li style="margin-left: 60px;"><a href="#Nomenclature">Nomenclature</a></li><li style="margin-left: 60px;"><a href="#DQMHProjectStructureOverview">DQMH Project Structure Overview</a></li><li style="margin-left: 60px;"><a href="#DQMHSingletonModulevsCloneableMo">DQMH Singleton Module vs Cloneable Module Overview</a></li><li style="margin-left: 20px;"><a href="#ShippingExamplesandIntegrationwi">Shipping Examples and Integration with TestStand</a></li><li style="margin-left: 40px;"><a href="#LabVIEWExamples">LabVIEW Examples</a></li><li style="margin-left: 60px;"><a href="#LabVIEWExample1ThermalChamberCon">LabVIEW Example 1: Thermal Chamber Controller Example.vi</a></li><li style="margin-left: 60px;"><a href="#LabVIEWExample2ThermalChamberCon">LabVIEW Example 2: Thermal Chamber Controller with DUT.vi</a></li><li style="margin-left: 60px;"><a href="#LabVIEWExample3ThermalChamberCon">LabVIEW Example 3: Thermal Chamber Controller with Multiple DUTs.vi</a></li><li style="margin-left: 40px;"><a href="#TestStandExamples">TestStand Examples</a></li><li style="margin-left: 60px;"><a href="#TestStandExample1ThermalChamberC">TestStand Example 1: Thermal Chamber Controller Example.seq</a></li><li style="margin-left: 60px;"><a href="#TestStandExample2ThermalChamberC">TestStand Example 2: Thermal Chamber Controller Example With DUT.seq</a></li><li style="margin-left: 60px;"><a href="#TestStandExample3ThermalChamberC">TestStand Example 3: Thermal Chamber Controller Example With Multiple DUTs.seq</a></li><li style="margin-left: 20px;"><a href="#RunningtheDQMHProjectTemplate">Running the DQMH Project Template</a></li><li style="margin-left: 40px;"><a href="#UsingtheTesterVItoTroubleshootan">Using the Tester VI to Troubleshoot an Application while the Application is Running</a></li><li style="margin-left: 20px;"><a href="#ModifyingthisTemplate">Modifying this Template</a></li><li style="margin-left: 40px;"><a href="#AddingaNewDQMHModule">Adding a New DQMH Module</a></li><li style="margin-left: 60px;"><a href="#AddingaNewDQMHModulefromaCustomT">Adding a New DQMH Module from a Custom Template</a></li><li style="margin-left: 40px;"><a href="#CreatingaNewDQMHEvent">Creating a New DQMH Event</a></li><li style="margin-left: 40px;"><a href="#RemovinganExistingDQMHEvent">Removing an Existing DQMH Event</a></li><li style="margin-left: 40px;"><a href="#RenaminganExistingDQMHEvent">Renaming an Existing DQMH Event</a></li><li style="margin-left: 40px;"><a href="#RenaminganExistingDQMHModule">Renaming an Existing DQMH Module</a></li><li style="margin-left: 40px;"><a href="#ValidatinganExistingDQMHModule">Validating an Existing DQMH Module</a></li><li style="margin-left: 20px;"><a href="#RelatedInformation">Related Information</a></li><li style="margin-left: 20px;"><a href="#LegalInformation">Legal Information</a></li></ul><a name="ChangeHistory"></a><h2>Change History</h2>
<p></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li style="margin-left: 0px" class="rvps7"><span class="rvts21">Version 1.0.0.1: DQMH documentation for first public release.</span></li>
</ul>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Version 2.0.0.0: Added section on how to use the new </span><a class="rvts11" href="#RenaminganExistingDQMHModule">Rename DQMH Module</a><span class="rvts6"> utility. Updated images. Fixed typos.</span></li>
<li class="rvps2"><span class="rvts6">Version 2.1.0.2: Published documentation at: </span><a class="rvts12" href="http://delacor.com/dqmh-documentation" target="_blank">delacor.com/dqmh-documentation</a><span class="rvts6">. Updated images to reflect DQMH 2.1 version. Added description of what “DQMH Module Main” refers to in the Nomenclature section. Clarified the titles for the shipping examples and provided a link to skip TestStand sections if not using it. Added links at the end of each section to go back to the Table of Contents.</span></li>
<li class="rvps2"><span class="rvts6">Version 2.1.0.3: Added link to </span><a class="rvts12" href="http://delacor.com/dqmh-documentation/dqmh-best-practices/" target="_blank">DQMH Best Practices</a><span class="rvts6"> document.</span></li>
<li class="rvps2"><span class="rvts6">Version 3.0.0.0: Expanded </span><a class="rvts11" href="#Nomenclature">Nomenclature</a><span class="rvts6"> section and added documentation for new DQMH features introduced with DQMH 3.0:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><a class="rvts11" href="#AddingaNewDQMHModulefromaCustomT">Adding a new DQMH Module from a Custom Template</a></li>
<li class="rvps2"><a class="rvts11" href="#RenaminganExistingDQMHEvent">Renaming an existing DQMH Event</a></li>
</ul>
<li class="rvps2"><span class="rvts6">Version 3.0.0.1: Converted documentation to hnd/html. Added embedded videos for html and chm versions.</span></li>
<li class="rvps2"><span class="rvts6">Version 3.1.0.0: Added note in </span><a class="rvts12" href="#AddingaNewDQMHModulefromaCustomT">Adding a New DQMH Module from a Custom Template</a><span class="rvts6"> to include the DQMH Example Template that ships with the toolkit.</span></li>
</ul>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="UseCases"></a><h2>Use Cases</h2>
<p></p>
<p class="rvps2"><span class="rvts6">The DQMH template is useful for applications where multiple tasks occur in parallel, often at different rates. It is also useful when multiple instances of the same Front Panel are needed (this requires using a </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> DQMH Module). For example, consider an application that controls a single temperature chamber and needs to log data from multiple units under test (UUTs). A </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> DQMH Module would be used to implement a single UUT and a </span><span class="rvts17">singleton</span><span class="rvts6"> DQMH Module would be used to implement the temperature chamber.</span></p>
<p class="rvps2"><span class="rvts6">The </span><span class="rvts14">Tools&gt;Delacor&gt;Add DQMH Module</span><span class="rvts6"> utility can add individual DQMH Modules to existing projects. This is useful for applications where a continuous running process needs to be added and the rest of the code needs to communicate with this process. For example, consider an application where communication with a serial instrument needs to poll the serial port continuously waiting for a series of commands to be received. A singleton DQMH module could implement the communication with the instrument. The existing application could start this singleton DQMH Module and register to listen to the serial port commands. The </span><span class="rvts22">Test DQMH Module API.vi</span><span class="rvts6"> could then be used to eavesdrop on the communication between the Singleton DQMH Module and the rest of the code as well as a vehicle to test the instrument connected to the serial port as well.</span></p>
<p class="rvps2"><span class="rvts6">The</span><span class="rvts14"> Tools&gt;Delacor&gt;Add DQMH Module</span><span class="rvts6"> utility can also be used to add a new DQMH module to a new project where the DQMH is intended to be the standalone application.</span></p>
<p class="rvps2"><span class="rvts6">Another use of the DQMH Module template is for teams with different levels of proficiency. The DQMH Module could be designed and implemented by one team member, and others with less LabVIEW familiarity could just call the DQMH Module API VIs in their code, without having to understand how the DQMH Module itself is implemented.</span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="DQMHBackground"></a><h2>DQMH Background</h2>
<p></p>
<p class="rvps4"><span class="rvts6">Implementing communication between DQMH modules using events is based on the concepts presented by Justin Goeres during CLA Summit 2011 and NIWeek 2011 (more information </span><a class="rvts12" href="http://blog.jki.net/events/niweek-2011-beyond-state-machines-slides-and-code-now-available/" target="_blank">here</a><span class="rvts6">). The main modifications to Justin’s approach were (1) changing the </span><a class="rvts11" href="#Nomenclature">nomenclature</a><span class="rvts17"> </span><span class="rvts6">from Private/Public events to </span><a class="rvts11" href="#Request">Request</a><span class="rvts17">/</span><a class="rvts11" href="#Broadcast">Broadcast</a><span class="rvts17"> </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts6">, and (2) using the NI QMH as the basis for the modules instead of the JKI State Machine.</span></p>
<p class="rvps4"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="GettingStarted"></a><h1>Getting Started</h1>
<p></p>
<p class="rvps2"><span class="rvts6">A description of how to get started with DQMH can be found on the video "DQMH Getting Started" found at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a></p>
<p class="rvps2"><span class="rvts25">The video is embedded below, followed by a description of what can be seen at different times in the video:</span></p>
<p class="rvps2"><span class="rvts6">                    <iframe width="560" height="315" src="https://www.youtube.com/embed/M75PAwjTg1c?showinfo=0" frameborder="0" allowfullscreen=""></iframe></span></p>
<p class="rvps2"><span class="rvts6">Getting Started with DQMH video</span></p>
<p class="rvps2"><span class="rvts6">This video shows where to find the documentation for the Delacor Queued Message Handler toolkit, how to create a project from the template and where to find the shipping examples. The video explains what a </span><span class="rvts17">Singleton</span><span class="rvts6"> vs </span><span class="rvts17">Cloneable</span><span class="rvts6"> module is and how to run the </span><span class="rvts17">testers</span><span class="rvts6"> and the individual modules.</span></p>
<p class="rvps2"><span class="rvts6">0:00 Where to find Documentation</span></p>
<p class="rvps2"><span class="rvts6">0:30 Create a DQMH from Project Template</span></p>
<p class="rvps2"><span class="rvts6">1:20 Add a new DQMH Module to an existing project</span></p>
<p class="rvps2"><span class="rvts6">1:40 Where to find the DQMH shipping examples</span></p>
<p class="rvps2"><span class="rvts6">2:05 DQMH Project Template structure</span></p>
<p class="rvps2"><span class="rvts6">3:40 Nomenclature: Request, Broadcast events and DQMH Module design pattern</span></p>
<p class="rvps2"><span class="rvts6">5:12 DQMH as a stand alone module or part of a larger application</span></p>
<p class="rvps2"><span class="rvts6">5:28 Steps to add a new DQMH Module</span></p>
<p class="rvps2"><span class="rvts6">6:43 Module structure</span></p>
<p class="rvps2"><span class="rvts6">8:30 Request event</span></p>
<p class="rvps2"><span class="rvts6">8:58 Broadcast event</span></p>
<p class="rvps2"><span class="rvts6">16:56 Shipping examples: Simple VIs calling DQMH public API (singleton)</span></p>
<p class="rvps2"><span class="rvts6">19:50 Shipping examples: Thermal chamber with DUT (singleton &amp; cloneable)</span></p>
<p class="rvps2"><span class="rvts6">20:25 Shipping examples: Thermal Chamber with Multiple DUTs (singleton &amp; cloneables)</span></p>
<p class="rvps2"><span class="rvts6">21:30 Cloneable DQMH Module</span></p>
<p class="rvps2"><span class="rvts6">24:20 How to create a DQMH Event</span></p>
<p class="rvps2"><span class="rvts6">31:18 API tester tests errors when module is not running</span></p>
<p class="rvps4"><span class="rvts6">An application that uses the DQMH will have one or more DQMH modules. Each DQMH module will have a </span><a class="rvts15" href="#DQMH%20Module%20Main">Main.vi</a><span class="rvts6"> that is a version of the Producer/Consumer design pattern, where the user interface (producer) produces messages and the tasks (consumers) consume them. However, in the DQMH template, you can also produce messages from other DQMH modules or other VIs.</span></p>
<p class="rvps4"><span class="rvts6">This template includes the following:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps4"><span class="rvts6">1 </span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6"> DQMH module (can have only one instance of its </span><span class="rvts22">Main.vi </span><span class="rvts6">running at any given time)</span></li>
<li class="rvps4"><span class="rvts6">1 </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> DQMH module (can have one or multiple instances of its </span><span class="rvts22">Main.vi</span><span class="rvts6"> running in parallel)</span></li>
<li class="rvps4"><span class="rvts6">2</span><span class="rvts24"> </span><a class="rvts11" href="#Test%20Module%20API">API testers</a><span class="rvts6">, one for each DQMH module</span></li>
<li class="rvps4"><span class="rvts6">1 sample application</span></li>
</ul>
<p class="rvps4"><span class="rvts6">If you would like to add modules to an existing project, then use the </span><a class="rvts11" href="#AddingaNewDQMHModule">Tools&gt;Delacor&gt;Add DQMH Module</a><span class="rvts6"> utility in your existing project.</span></p>
<p class="rvps4"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts23"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="SystemRequirements"></a><h2>System Requirements</h2>
<p></p>
<p class="rvps2"><a class="rvts12" href="http://ni.com/labview" target="_blank">LabVIEW</a><span class="rvts6"> Base, Full, or Professional Development System 2014 or later.</span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="GettingHelp"></a><h2>Getting Help</h2>
<p></p>
<p class="rvps2"><span class="rvts6">The DQMH toolkit is supported via the online forum found at ni.com: </span><a class="rvts12" href="http://forums.ni.com/t5/Delacor-Toolkits/ct-p/7004" target="_blank">ni.com communities: Delacor Toolkits</a></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="Overview"></a><h2>Overview</h2>
<p></p>
<p class="rvps2"><span class="rvts6">The video below is called "DQMH Decisions Behind the Design" and can be found at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a><a class="rvts31" href="http://bit.ly/DelacorQMH" target="_blank">. </a></p>
<p class="rvps2"><span class="rvts6">    <iframe width="560" height="315" src="https://www.youtube.com/embed/atpPRwPkwq8?showinfo=0" frameborder="0" allowfullscreen=""></iframe></span></p>
<p class="rvps2"><span class="rvts6">DQMH Decisions Behind the Design video shows a presentation given at NI week 2016 where Fabiola De la Cueva gave an overview of what the DQMH is, the differences between DQMH and the NI QMH and some of the decisions behind DQMH design. </span></p>
<p class="rvps2"><span class="rvts6">To understand this section of the documentation better, look at the corresponding </span><span class="rvts22">Main.vi </span><span class="rvts6">diagram in the NI QMH documentation to contrast the differences with the </span><a class="rvts28" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6">.</span></p>
<p class="rvps2"><span class="rvts6">Here are the primary differences: </span></p>
<p class="rvps2"><a name="Nomenclature"></a>
<span class="rvts14">Nomenclature</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><a name="DQMH Event"></a>
<span class="rvts14">DQMH Event</span><span class="rvts6">: LabVIEW code that carries custom data throughout the application. Implemented using Custom Events (also known as User Events). These events allow different parts of an application to communicate asynchronously when the events are programmatically generated. An event structure handles both types of events: end user interaction with front panel (i.e., a value change event on a control) and programmatically generated user events. More details can be found on the LabVIEW Help entry for </span><a class="rvts12" href="http://zone.ni.com/reference/en-XX/help/371361N-01/lvhowto/creating_user_events/" target="_blank">User Events (or custom events)</a><span class="rvts6">. A DQMH can send events to multiple Event Structures and multiple locations in the code can send events to a DQMH module. DQMH Events are many to many.</span></p>
<p class="rvps2"><span class="rvts6">There are two types of DQMH Events:</span></p>
<p class="rvps2"><a name="Request"></a>
<span class="rvts14">Request</span><span class="rvts6">: Code that fires an event requesting the </span><a class="rvts28" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> to do something. Multiple locations in the code can send events to the DQMH module. Request Events are many to one. Requests are asynchronous events, the code that fires the event does not wait for a response from the </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6">. Creating a </span><a class="rvts15" href="#Request%20and%20Wait%20for%20Reply">Request and Wait for Reply</a><span class="rvts6"> type of event makes the Request synchronous.</span></p>
<p class="rvps2"><a name="Broadcast"></a>
<span class="rvts14">Broadcast</span><span class="rvts6">: Code that fires an event broadcasting that the </span><a class="rvts28" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> did something. Multiple event structures can register to handle the Broadcast Events. Broadcast Events are one to many.</span></p>
<p class="rvps2"><a name="DQMH Module Main"></a>
<span class="rvts14">DQMH Module Main</span><span class="rvts6">: Each DQMH Module has a</span><span class="rvts22"> Main.vi</span><span class="rvts6">, the full name for the </span><span class="rvts22">Main.vi </span><span class="rvts6">is </span><span class="rvts22">DQMH Library Name:Main.vi</span><span class="rvts6">. For example </span><a class="rvts15" href="#Singleton">My Singleton Module.lvlib:Main.vi</a><span class="rvts6"> or </span><a class="rvts15" href="#Cloneable">My Cloneable Module.lvlib:Main.vi</a><span class="rvts6">. This document refers to this VI as “</span><span class="rvts22">DQMH Module Main</span><span class="rvts6">”. This VI can be renamed without breaking any of the DQMH scripting tools.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps3"><img alt="DQMH Module Main.vi Overview" style="padding : 1px;" src="lib/DQMH Module Main VI Overview.jpg"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6"> repeatedly performs the following steps:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">A user interacts with the front panel, causing the Event structure in the Event Handling Loop (EHL) to produce a message. LabVIEW stores the message in a queue.</span></li>
</ol>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: lower-alpha;">
<li value="1" class="rvps2"><span class="rvts6">The </span><span class="rvts22">DQMH Module Main.vi </span><span class="rvts6">also registers to listen to requests sent by other VIs. Another VI requests that the DQMH module do something, causing the Event structure in the EHL to produce a message. LabVIEW stores the message in a queue.</span></li>
</ol></ol>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="2" class="rvps2"><a name="MHL"></a>
<span class="rvts6">The Message Handling Loop (MHL) dequeues a message from the message queue.</span></li>
<li value="3" class="rvps2"><span class="rvts6">The message is a string that matches one of the subdiagrams of the Case structure in the MHL. Therefore, reading the message causes the corresponding subdiagram of the Case structure to execute. This subdiagram is called a</span><span class="rvts26"> "</span><span class="rvts6">message diagram" because it corresponds to a message.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Optionally, the message diagram produces another message, storing it in the message queue.</span></li>
</ol>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: lower-alpha;">
<li value="1" class="rvps2"><span class="rvts6">The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6"> can optionally broadcast an event to other VIs that are registered to listen to them.</span></li>
</ol></ol>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="5" class="rvps2"><a name="EHL"></a>
<span class="rvts6">In the NI QMH the EHL only registers to listen to the Stop message. In the DQMH the EHL registers to listen to all the request events.</span></li>
<li value="6" class="rvps2"><span class="rvts6">The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6"> has Admin code that manages whether the module is a single instance (</span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6">) or it can be called multiple times in parallel (</span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6">).</span></li>
</ol>
<p class="rvps2"><span class="rvts14">Notes:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">The EHL is the producer loop. The MHL is the consumer loop. These loops run in parallel and are connected by the message queue, which facilitates communication between the loops.</span></li>
<li class="rvps2"><span class="rvts6">The message queue is a LabVIEW queue that stores messages for consumption. The two loop architecture allows the EHL to receive external requests or user interactions and send them as messages to this queue while the MHL may be busy consuming previous messages. Each message queue belongs to a single MHL. Note that in the DQMH the VIs that manage the queues are not copied to the project like in the NI QMH. In the DQMH the queues are wrapped in a class and the managing VIs are stored in vi.lib. If the developer is comfortable with LabVIEW Object Oriented Programming, he can choose to override some of these VIs and create his own Message Queue class.</span></li>
<li class="rvps2"><span class="rvts6">Every iteration of the MHL reads the message at the front of the message queue and then executes the corresponding message diagram. Although the MHL primarily consumes messages, it also can produce them.</span></li>
<li class="rvps2"><span class="rvts6">Each loop handles errors using a loop-specific error handler subVI. If the DQMH Module Main.vi encounters an error in the MHL, LabVIEW displays an error message. These VIs are also wrapped in the DQMH Queue class and reside in vi.lib. If the developer is comfortable with LabVIEW Object Oriented Programming, he can choose to override some of these VIs and create his own Message Queue class.</span></li>
<li class="rvps2"><span class="rvts6">Unlike the NI QMH template that encourages having an MHL for each task, the DQMH encourages having a new DQMH Module per task. With the DQMH scripting tools, the developer can select </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Add New DQMH Module…</span><span class="rvts6"> to quickly add a new module to his project.</span></li>
<li class="rvps2"><span class="rvts6">Notice the Data cluster in the above diagram. This cluster contains data that each message diagram in the MHL can access and modify. In this template the cluster is defined as a </span><span class="rvts22">typedef</span><span class="rvts6"> (</span><span class="rvts22">Module Data–cluster.ctl</span><span class="rvts6">). Each typedef belongs to a single DQMH module and should only be modified by code in </span><span class="rvts22">Main.vi</span><span class="rvts6">.</span></li>
</ul>
<p class="rvps2"><a name="Test Module API"></a>
<span class="rvts22">Test Module API.vi</span><span class="rvts27">: The DQMH also has a </span><span class="rvts22">Test Module API.vi</span><span class="rvts27"> for each DQMH module. This document refers to this VI as “Tester”. This provides a convenient way to test all the request and broadcast events implemented by the DQMH Module. The </span><span class="rvts22">Test Module API.vi</span><span class="rvts27"> gets added when the developer selects </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Add New DQMH Module…</span><span class="rvts27">, and it tests the </span><a class="rvts11" href="#Request">request</a><span class="rvts27"> and </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts27"> events that come with a DQMH Module.</span></p>
<p class="rvps3"><img alt="Test My Singleton Module API.vi also known as the Singleton DQMH API tester." style="padding : 1px;" src="lib/Test Module API VI Overview.jpg"></p>
<p class="rvps2"><span class="rvts27">The tester for </span><span class="rvts6">singleton DQMH Modules </span><span class="rvts27">registers to listen to the </span><a class="rvts12" href="#Broadcast">broadcasts</a><span class="rvts27"> from the </span><span class="rvts22">DQMH Module Main.vi </span><span class="rvts27">and handles each broadcast event in the event structure. When the tester stops, the last </span><a class="rvts30" href="#Request">request</a><span class="rvts6"> to</span><span class="rvts27"> be sent is to stop the module (in case it was not stopped earlier). It is important to execute that last </span><a class="rvts30" href="#Request">request</a><span class="rvts27"> to avoid leaving the </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts27"> running.</span></p>
<p class="rvps2"><span class="rvts27">One of the advantages of the </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts27"> design is that it can run headless. Another advantage is that the tester can be used as a “sniffer” to monitor the status of a DQMH module that is already running.</span></p>
<p class="rvps2"><a name="Core DQMH Events"></a>
<span class="rvts27">The Core Requests and Broadcasts that come with a DQMH Module are:</span></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><a name="DQMH Core Requests"></a>
<span class="rvts14">Requests</span><span class="rvts27">:</span></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps8"><a name="Show Module Panel"></a>
<span class="rvts14">Show Module Panel</span><span class="rvts27"> – By default the module does not show the front panel of its </span><span class="rvts22">Main.vi</span><span class="rvts27"> when it is started. Execute this request to show the front panel of the </span><span class="rvts22">DQMH Module Main.vi.</span><span class="rvts27"> This request cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Hide Module Panel"></a>
<span class="rvts14">Hide Module Panel</span><span class="rvts27"> – Execute this request to hide the front panel of the </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts27">. This request cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Get Module Execution Status"></a>
<span class="rvts14">Get Module Execution Status</span><span class="rvts27"> – Execute this request to request the </span><span class="rvts22">DQMH Module Main.vi </span><span class="rvts27">to report its current execution status via the </span><a class="rvts11" href="#Update%20Module%20Execution%20Status">Update Module Execution Status</a><span class="rvts6"> bro</span><span class="rvts27">adcast. This request cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Show Diagram"></a>
<span class="rvts14">Show Diagram</span><span class="rvts27"> – Execute this request to show the block diagram of the </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts27">. This request does not work in executables. This request can be removed</span><span class="rvts22"> via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span><span class="rvts22">…</span><span class="rvts27"> &nbsp;</span></li>
<li class="rvps8"><a name="Do Something"></a>
<span class="rvts14">Do Something</span><span class="rvts27"> – Execute this request to tell the </span><span class="rvts22">DQMH Module Main.vi </span><span class="rvts27">to do something. The </span><span class="rvts22">Main.vi</span><span class="rvts27"> then will broadcast that it did something. This request can be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span><span class="rvts27"> </span></li>
<li class="rvps8"><a name="Do Something Else"></a>
<span class="rvts14">Do Something Else</span><span class="rvts27"> – Execute this request to tell the</span><span class="rvts22"> DQMH Module Main.vi</span><span class="rvts27"> to do something else. The</span><span class="rvts26"> </span><span class="rvts22">Main.vi </span><span class="rvts27">will display the payload received. This request can be removed via</span><span class="rvts22"> </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Do Something Else and Wait for Reply"></a>
<span class="rvts14">Do Something Else and Wait for Reply</span><span class="rvts27"> – Execute this request to tell the </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts27"> to do something else and return the reply immediately. The reply is not returned via a broadcast. This type of event is useful when the developer requires a synchronous message. This request can be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Stop Module"></a>
<span class="rvts14">Stop Module</span><span class="rvts27"> – Execute this request to stop the</span><span class="rvts26"> </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts27">. This request cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
</ul>
<p class="rvps8"><span class="rvts14">Note</span><span class="rvts27">: Deselect the</span><span class="rvts26"> </span><span class="rvts14">Include “Do Something” events in new module?</span><span class="rvts27"> option when creating a new DQMH module to exclude the </span><span class="rvts14">“</span><a class="rvts11" href="#Do%20Something">Do Something</a><span class="rvts14">”</span><span class="rvts27"> events described above.</span></p>
<p class="rvps2"><a class="rvts12" href="#DQMHSingletonModulevsCloneableMo"><br/></a></p>
<p class="rvps2"><a name="DQMH Core Broadcasts"></a>
<span class="rvts14">Broadcasts</span><span class="rvts6">:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps8"><a name="Module Did Init"></a>
<span class="rvts14">Module Did Init</span><span class="rvts6"> – The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6"> broadcasts that it initialized without issues. This broadcast cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Did Something"></a>
<span class="rvts14">Did Something</span><span class="rvts6"> – The</span><span class="rvts26"> </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6"> broadcasts that it did something. This broadcast can be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">. </span></li>
<li class="rvps8"><a name="Status Updated"></a>
<span class="rvts14">Status Updated</span><span class="rvts6"> – The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6">broadcasts a new status. This broadcast cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">. </span></li>
<li class="rvps8"><a name="Error Reported"></a>
<span class="rvts14">Error Reported</span><span class="rvts6"> – The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6"> broadcasts that an error occurred. This broadcast cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Module Did Stop"></a>
<span class="rvts14">Module Did Stop</span><span class="rvts6"> – The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts6"> broadcasts that it did stop. This broadcast cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li class="rvps8"><a name="Update Module Execution Status"></a>
<span class="rvts14">Update Module Execution Status</span><span class="rvts6"> – The </span><span class="rvts22">DQMH Module Main.vi</span><span class="rvts26"> </span><span class="rvts6">broadcasts whether it is currently running, this is used when the Start Module.vi executes and the module Main.vi is already running. This broadcast cannot be removed via </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
</ul>
<p class="rvps8"><span class="rvts14">Note</span><span class="rvts6">: Deselect the</span><span class="rvts14"> Include “Do Something” events in new module? </span><span class="rvts6">option when creating a new DQMH module to exclude the </span><span class="rvts14">“</span><a class="rvts29" href="#Did%20Something">Did Something</a><span class="rvts14">”</span><span class="rvts6"> event described above.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="Nomenclature"></a><h3>Nomenclature</h3>
<p></p>
<p class="rvps2"><a class="rvts12" href="#Nomenclature">Nomenclature</a></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><a class="rvts11" href="#DQMH%20Event">DQMH Event</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><a class="rvts11" href="#Request">Request</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><a class="rvts11" href="#DQMH%20Core%20Requests">DQMH Core Requests</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><a class="rvts11" href="#Show%20Module%20Panel">Show Module Panel</a></li>
<li class="rvps2"><a class="rvts11" href="#Hide%20Module%20Panel">Hide Module Panel</a></li>
<li class="rvps2"><a class="rvts11" href="#Get%20Module%20Execution%20Status">Get Module Execution Status</a></li>
<li class="rvps2"><a class="rvts11" href="#Show%20Diagram">Show Diagram</a></li>
<li class="rvps2"><a class="rvts11" href="#Do%20Something">Do Something</a></li>
<li class="rvps2"><a class="rvts11" href="#Do%20Something%20Else">Do Something Else</a></li>
<li class="rvps2"><a class="rvts11" href="#Do%20Something%20Else%20and%20Wait%20for%20Reply">Do Something Else and Wait for Reply</a></li>
<li class="rvps2"><a class="rvts11" href="#Stop%20Module">Stop Module</a></li>
</ul></ul>
<li class="rvps2"><a class="rvts11" href="#Broadcast">Broadcast</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><a class="rvts11" href="#DQMH%20Core%20Broadcasts">DQMH Core Broadcasts</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><a class="rvts11" href="#Module%20Did%20Init">Module Did Init</a></li>
<li class="rvps2"><a class="rvts11" href="#Did%20Something">Did Something</a></li>
<li class="rvps2"><a class="rvts11" href="#Status%20Updated">Status Updated</a></li>
<li class="rvps2"><a class="rvts11" href="#Error%20Reported">Error Reported</a></li>
<li class="rvps2"><a class="rvts11" href="#Module%20Did%20Stop">Module Did Stop</a></li>
<li class="rvps2"><a class="rvts11" href="#Update%20Module%20Execution%20Status">Update Module Execution Status</a></li>
</ul></ul></ul>
<li class="rvps2"><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main</a></li>
<li class="rvps2"><a class="rvts11" href="#Test%20Module%20API">Test Module API</a></li>
</ul>
<p class="rvps2"><a class="rvts12" href="#DQMH%20Core%20Requests"><br/></a></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="DQMHProjectStructureOverview"></a><h3>DQMH Project Structure Overview</h3>
<p></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/DQMH Project Structure Overview.jpg"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The Delacor QMH project template (available in the </span><span class="rvts14">Create Project</span><span class="rvts6"> dialog launched from the </span><a class="rvts12" href="http://zone.ni.com/reference/en-XX/help/371361N-01/lvdialog/getting_started_window/" target="_blank">Getting Started </a><a class="rvts30" href="http://zone.ni.com/reference/en-XX/help/371361N-01/lvdialog/getting_started_window/" target="_blank">window</a><span class="rvts6">) has the following components:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><a class="rvts11" href="#Test%20Module%20API">Testers</a><span class="rvts6"> that exercise the public API of the DQMH modules in the project. The </span><a class="rvts11" href="#Test%20Module%20API">Testers</a><span class="rvts6"> register for the </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> events fired by the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> and fire </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> events that will be acted upon in the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Each DQMH module has its own project library (lvlib). This facilitates having the same icon header for all the members of the library and specifies which VIs are public and which VIs are only used by the library itself.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Each DQMH module has a </span><a name="Public API"></a>
<span class="rvts14">Public API</span><span class="rvts6"> virtual folder that lists the VIs that can be called by VIs outside the library.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Within the Public API folder there is a </span><a class="rvts11" href="#DQMH%20Core%20Requests">Requests</a><span class="rvts6"> virtual folder that lists all the VIs wrapping the firing of the </span><a class="rvts11" href="#Request">requests</a><span class="rvts6"> that can be sent to the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a></li>
<li value="5" class="rvps2"><span class="rvts6">In order to start a DQMH Module, two VIs need to be called: </span><span class="rvts22">Start Module.vi </span><span class="rvts6">and </span><span class="rvts22">Synchronize Module Events.vi.</span><span class="rvts6"> These two VIs take care of launching the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> as well as making sure the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> has created its own </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> and </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> events before the calling VI can fire or register to listening to </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> events.</span></li>
<li value="6" class="rvps2"><span class="rvts6">The </span><span class="rvts22">Obtain Broadcast Events for Registration.vi</span><span class="rvts6"> can be used when the calling VI is not ready to start the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> or it expects the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> to have been started by another module. The </span><span class="rvts22">Obtain Broadcast Events for Registration.vi</span><span class="rvts6"> will have the </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> events if the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> has already started or it will have empty references and it can be used to declare the event reference type for registration.</span></li>
<li value="7" class="rvps2"><span class="rvts6">The </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> is a private VI. This encourages developers to use the public API to interact with the DQMH module.</span></li>
<li value="8" class="rvps2"><span class="rvts6">The calling code can be another library or simple VIs. In the DQMH project template a Simple State Machine</span><a name="Application"></a>
<span class="rvts6"> application is used to call the </span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6"> and </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> DQMH modules.</span></li>
<li value="9" class="rvps2"><span class="rvts6">The Build Specification for an executable that uses </span><span class="rvts22">Application.lvlib:Main.vi </span><span class="rvts6">as the startup VI.</span></li>
</ol>
<p class="rvps8"><span class="rvts14">Notes</span><span class="rvts6">:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps8"><span class="rvts6">The </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> creates its </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> and </span><a class="rvts11" href="#Broadcast">broadcast</a><a name="Create request and broadcast events"></a>
<span class="rvts6"> events to ensure that even if the calling VI leaves memory the references are still valid. This feature of the DQMH module facilitates calling the DQMH modules via </span><a class="rvts12" href="ni.com/teststand" target="_blank">TestStand</a><a name="Start Module"></a>
<span class="rvts6"> as well as easily defining the lifetime of a given module’s event references. The combination of </span><span class="rvts22">Start Module.vi</span><span class="rvts6"> and </span><span class="rvts22">Synchronize Module Events.vi</span><span class="rvts6"> ensures that the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> is ready to receive </span><a class="rvts11" href="#Request">requests</a><span class="rvts6"> and the calling VI is ready to receive </span><a class="rvts11" href="#Broadcast">broadcasts</a><span class="rvts6">.</span></li>
</ul>
<p class="rvps9"><img alt="Start Module.vi, Register for Events and Synchronize Module Events.vi combination." style="padding : 1px;" src="lib/Start Module VI and Synchronize Module Events.png"></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><a name="SimpleCallingCode"></a>
<span class="rvts6">The code that calls the DQMH module can be very simple, not even needing an </span><a class="rvts11" href="#DQMH%20Event">event structure</a><span class="rvts6"> (especially if the calling VI does not care about </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> events or is only calling </span><a class="rvts11" href="#CreatingaNewDQMHEvent">request</a><a class="rvts11" href="#CreatingaNewDQMHEvent"> and wait for reply</a><span class="rvts6"> events). Refer to the </span><a class="rvts11" href="#ShippingExamplesandIntegrationwi">Thermal Chamber Control example</a><span class="rvts6"> available from the </span><span class="rvts14">Help&gt;Find Examples…&gt;Directory Structure&gt;DelacorDelacor QMH&gt;DQMH Fundamentals – Thermal ChamberDQMH Fundamentals – Thermal Chamber.lvproj &gt;&gt; Thermal Chamber Controller.vi</span><span class="rvts6"> for an illustration of this approach.</span></li>
</ul>
<p class="rvps9"><img alt="Thermal Chamber Control example shows that calling code can be simple." style="padding : 1px;" src="lib/Thermal Chamber Controller VI.jpg"></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps8"><span class="rvts6">If the DQMH Module libraries are locked (right click the module .lvlib and choose </span><span class="rvts14">Properties&gt;Protection</span><span class="rvts6">), only the public VIs appear in the </span><span class="rvts14">Project Explorer</span><span class="rvts6"> window. This can be useful when sharing code with other members of the team to highlight the VIs that they will be using in calling code.</span></li>
</ul>
<p class="rvps9"><img alt="" style="padding : 1px;" src="lib/My Singleton DQMH Module is locked.jpg"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="DQMHSingletonModulevsCloneableMo"></a><h3>DQMH Singleton Module vs Cloneable Module Overview</h3>
<p></p>
<p class="rvps8"><span class="rvts6">A </span><a name="Singleton"></a>
<span class="rvts6">Singleton DQMH module can have only one instance of its </span><a class="rvts15" href="#DQMH%20Module%20Main">Main.vi</a><span class="rvts16"> </span><span class="rvts6">running at any given time. Every time the</span><a class="rvts11" href="#Start%20Module"> </a><a class="rvts15" href="#Start%20Module">Start Module.vi</a><span class="rvts6"> is called, the same </span><a class="rvts15" href="#DQMH%20Module%20Main">DQMH Main.vi</a><span class="rvts6"> instance is used.</span></p>
<p class="rvps2"><span class="rvts6">A </span><a name="Cloneable"></a>
<span class="rvts6">Cloneable DQMH module can have one or multiple instances of its </span><a class="rvts15" href="#DQMH%20Module%20Main">Main.vi</a><span class="rvts16"> </span><span class="rvts6">running in parallel. DQMH 3.0 adds code for cloneable modules to be executed as singletons. If the cloneable is running as a singleton, the same instance will be returned every time </span><a class="rvts15" href="#Start%20Module">Start Module.vi</a><a name="Module ID"></a>
<span class="rvts16"> </span><span class="rvts6">is called (Module ID = 0). If it is running as a cloneable, the cloneable module assigns a new Module ID number to each new instance that is started when calling the </span><a class="rvts15" href="#Start%20Module">Start Module.vi</a><span class="rvts6">.</span></p>
<p class="rvps2"><span class="rvts6">The calling code needs to provide the Module ID as an input to every </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> and </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> VI. The event structure inside the </span><a class="rvts32" href="#EHL">EHL</a><span class="rvts6"> in the cloneable </span><a class="rvts15" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> has to determine if a </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> event was sent specifically to that clone before enqueuing the message to the </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6">. A Module ID value of -1 means that the event was intended for all instances of the cloneable module.</span></p>
<p class="rvps9"><img alt="Event Handling Loop (EHL) inside a DQMH Cloneable Module." style="padding : 1px;" src="lib/EHL inside a DQMH Cloneable Module.jpg"></p>
<p class="rvps9"><span class="rvts6"><br/></span></p>
<p class="rvps8"><span class="rvts6">A </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> DQMH module library has a folder called </span><a name="Multiple Instances"></a>
<span class="rvts14">Multiple Instances</span><span class="rvts6">; this folder contains the </span><a class="rvts12" href="http://forums.ni.com/t5/LabVIEW/Community-Nugget-4-08-2007-Action-Engines/td-p/503801" target="_blank">Action Engine</a><span class="rvts6"> that manages the different instances of the module.</span></p>
<p class="rvps9"><img alt="Multiple Instances folder contains the Action Engine that manages the different instances of the cloneable module." style="padding : 1px;" src="lib/Multiple Instances Folder.png"></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">The </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> DQMH module comes with a group of VIs to update a Module ID ring that can be used in the </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> or in the </span><a class="rvts11" href="#Application">Application</a><span class="rvts6"> code to address the different instances of the module.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Since the DQMH Module </span><a class="rvts15" href="#DQMH%20Module%20Main">Main.vi</a><span class="rvts6"> owns the lifetime of the </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> and </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> events, code is needed to determine if the first instance can close. Before stopping, the </span><a class="rvts15" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> checks to see if it was the first instance of the module that was launched (and hence, the owner of the event references). If it was the first instance launched, then the module will exit both </span><a class="rvts11" href="#EHL">EHL</a><span class="rvts6"> and </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6"> loops and hold in the </span><a name="Close"></a>
<span class="rvts16">Close.vi</span><span class="rvts6"> waiting for all the other instances to close. The VI continues to run (with its panel hidden) until it is the last instance running, at which point it destroys the event references and stops.</span></li>
<li value="3" class="rvps2"><span class="rvts6">The </span><a name="Clone Registration"></a>
<span class="rvts16">Clone Registration AE.vi</span><span class="rvts6"> is the </span><a class="rvts12" href="http://forums.ni.com/t5/LabVIEW/Community-Nugget-4-08-2007-Action-Engines/td-p/503801" target="_blank">action engine</a><span class="rvts6"> that manages all the DQMH </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> module instances.</span></li>
<li value="4" class="rvps2"><span class="rvts6">These VIs are the public API for the Clone Registration Action Engine and are used for the following tasks:</span></li>
</ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">Initialize the clone registry</span></li>
<li class="rvps2"><span class="rvts6">Add a new clone to the registry</span></li>
<li class="rvps2"><span class="rvts6">Remove a clone from the registry when it stops</span></li>
<li class="rvps2"><span class="rvts6">List all the available clones</span></li>
<li class="rvps2"><span class="rvts6">Check if a module was the first clone to be registered</span></li>
</ul></ul>
<p class="rvps2"><span class="rvts6">The Clone Registration functionality resides in a library with a Public API, which allows the developer to implement the registry with a different underlying mechanism besides an </span><a class="rvts12" href="http://forums.ni.com/t5/LabVIEW/Community-Nugget-4-08-2007-Action-Engines/td-p/503801" target="_blank">action engine</a><span class="rvts6"> if he so desires.</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="5" class="rvps2"><span class="rvts6">A simple tester is included to verify that the </span><a class="rvts15" href="#Clone%20Registration">Clone Registration AE.vi</a><span class="rvts6"> works as expected.</span></li>
</ol>
<p class="rvps8"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="ShippingExamplesandIntegrationwi"></a><h1>Shipping Examples and Integration with TestStand</h1>
<p></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">Note: </span><span class="rvts6">The shipping examples do not require </span><a class="rvts12" href="http://ni.com/teststand" target="_blank">TestStand</a><span class="rvts6">. </span></p>
<p class="rvps2"><span class="rvts35">Note: </span><span class="rvts6">For each TestStand example, there is a similar example VI. </span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">If using TestStand, go to</span><span class="rvts17"> </span><a class="rvts11" href="#TestStandExample1ThermalChamberC">TestStand Example 1: Thermal Chamber Controller Example.seq</a><a class="rvts12" href="#TestStandExample1ThermalChamberC">.</a></li>
<li class="rvps2"><span class="rvts6">If not using TestStand, go to </span><a class="rvts11" href="#LabVIEWExample1ThermalChamberCon">LabVIEW Example 1: Thermal Chamber Controller Example.vi</a><a class="rvts12" href="#LabVIEWExample1ThermalChamberCon">.</a></li>
</ul>
<p class="rvps2"><span class="rvts6">The following video describes how to use the DQMH Examples. The video is called "TestStand DQMH Examples" and it can be found at : </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a><a class="rvts31" href="http://bit.ly/DelacorQMH" target="_blank">.</a></p>
<p class="rvps8"><span class="rvts6">         <iframe width="560" height="315" src="https://www.youtube.com/embed/wefCa-zqeIQ?showinfo=0" frameborder="0" allowfullscreen=""></iframe></span></p>
<h2 class="rvps10"><span class="rvts0"><span class="rvts33">Integration with TestStand</span></span></h2>
<p class="rvps2"><span class="rvts6">The fact that the DQMH Module owns its own event references facilitates integration with TestStand. Refer to the </span><a class="rvts11" href="#TestStandExample1ThermalChamberC">Thermal Chamber Control example</a><span class="rvts6"> available from the </span><span class="rvts14">Help&gt;Find Examples…&gt;Directory Structure&gt;DelacorDelacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6"> for the Thermal Chamber Controller TestStand example sequences.</span></p>
<p class="rvps9"><img alt="TestStand Thermal Chamber Control example." style="padding : 1px;" src="lib/TestStand Thermal Chamber Control example.png"></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><span class="rvts34">The ability to call the </span><a class="rvts12" href="#Public%20API">Public API</a><span class="rvts34"> methods of any DQMH module directly from TestStand results in a very clean TestStand sequence without the need for passing communication references or state data between the calling sequence and the code modules. A vital part of this architecture from a TestStand perspective is that the event reference lifetimes are owned by the DQMH module itself. TestStand can simply make a call to </span><a class="rvts11" href="#Start%20Module">start a module</a><span class="rvts34"> and then make further calls to the </span><a class="rvts11" href="#Public%20API">module’s API</a><span class="rvts17"> </span><span class="rvts34">as required. An added benefit of the DQMH module’s use of </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts34"> is that the</span><a class="rvts11" href="#Test%20Module%20API"> API Testers</a><span class="rvts34"> that are created with each DQMH module can be used as “sniffers” to aid in debugging. Likewise a TestStand sequence can make calls to a DQMH module that is already running, allowing you to treat the module as a service. As the TestStand sequence is only making calls on the</span><span class="rvts17"> </span><a class="rvts11" href="#Public%20API">Public API</a><span class="rvts34"> of a module, the majority of any debugging required will be carried out in LabVIEW.</span></p>
<p class="rvps8"><span class="rvts34">To start a DQMH module from TestStand, a call should be made to the </span><a class="rvts15" href="#Start%20Module">Start Module.vi</a><span class="rvts24"> </span><span class="rvts34">of the module:</span></p>
<p class="rvps9"><img alt="Calling DQMH Module API VIs from TestStand to start the DQMH Module." style="padding : 1px;" src="lib/Calling Start Module VI from TestStand.png"></p>
<p class="rvps9"><span class="rvts22"><br/></span></p>
<p class="rvps9"><img alt="Calling DQMH Module API VIs from TestStand to start the DQMH Module." style="padding : 1px;" src="lib/Calling Start Module VI from TestStand.png"></p>
<p class="rvps9"><span class="rvts22"><br/></span></p>
<p class="rvps2"><span class="rvts34">The </span><a class="rvts15" href="#Start%20Module">Start Module.vi</a><span class="rvts16"> </span><span class="rvts34">returns a </span><span class="rvts36">Wait for Event Sync?</span><span class="rvts34"> value that should be passed to the </span><a class="rvts15" href="#Start%20Module">Synchronize Module Events.vi </a><span class="rvts34">of the same module - This Boolean value can be persisted in a sequence local in TestStand. This approach is used to ensure the </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts34"> are appropriately </span><a class="rvts11" href="#Create%20request%20and%20broadcast%20events">created</a><span class="rvts34"> (and therefore “owned”) by the DQMH module before calls are made to it using </span><a class="rvts11" href="#Request">request</a><span class="rvts34"> events.</span></p>
<p class="rvps9"><img alt="Start Module.vi returns a &amp;quot;Wait for Event Sync?&amp;quot;" style="padding : 1px;" src="lib/Start Module returns Wait for Event Sync.png"></p>
<p class="rvps9"><span class="rvts34"><br/></span></p>
<p class="rvps3"><img alt="Synchronize Module Events.vi ensures the events are appropriately created by the DQMH module before calls are made to it using request events." style="padding : 1px;" src="lib/Synchronize Module Events.png"></p>
<p class="rvps2"><span class="rvts34">From this point onwards calls can be made directly to the </span><a class="rvts11" href="#Public%20API">Public API</a><span class="rvts34"> of the DQMH Module directly.</span></p>
<p class="rvps2"><span class="rvts34">For </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts24"> </span><span class="rvts34">DQMH modules the only additional point of note is that the </span><a class="rvts11" href="#Module%252%20">Module ID</a><span class="rvts24"> </span><span class="rvts34">should be provided to all</span><span class="rvts24"> </span><a class="rvts11" href="#Public%20API">API</a><span class="rvts34"> calls so the </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts24"> </span><span class="rvts34">will be handled by the correct instance of the module. The </span><a class="rvts11" href="#Module%252%20">Module ID</a><span class="rvts34"> is returned by the call to </span><a class="rvts15" href="#Start%20Module">Start Module.vi</a><span class="rvts16"> </span><span class="rvts34">and should be persisted in a sequence local in TestStand so that subsequent calls to the module can be addressed correctly using this </span><a class="rvts11" href="#Module%252%20">Module ID</a><span class="rvts34">. </span></p>
<p class="rvps9"><img alt="Start Module.vi starts a new Device Under Test instance." style="padding : 1px;" src="lib/Start Module starts a new Device Under Test.png"></p>
<p class="rvps8"><span class="rvts22"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="LabVIEWExamples"></a><h2>LabVIEW Examples</h2>
<p></p>
<p class="rvps2"><span class="rvts35">Note: </span><span class="rvts6">The shipping examples do not require </span><a class="rvts12" href="http://ni.com/teststand" target="_blank">TestStand</a><span class="rvts6">. </span></p>
<p class="rvps2"><span class="rvts35">Note: </span><span class="rvts6">For each TestStand example, there is a similar example VI. </span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">If using TestStand, go to </span><a class="rvts11" href="#TestStandExample1ThermalChamberC">TestStand Example 1: Thermal Chamber Controller Example.seq</a><a class="rvts12" href="#TestStandExample1ThermalChamberC">.</a></li>
<li class="rvps2"><span class="rvts6">If not using TestStand, go to </span><a class="rvts11" href="#LabVIEWExample1ThermalChamberCon">LabVIEW Example 1: Thermal Chamber Controller Example.vi</a><a class="rvts12" href="#LabVIEWExample1ThermalChamberCon">.</a></li>
</ul>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="LabVIEWExample1ThermalChamberCon"></a><h3>LabVIEW Example 1: Thermal Chamber Controller Example.vi</h3>
<p></p>
<p class="rvps4"><span class="rvts6">This example implements a Thermal Chamber Controller with a </span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6"> Delacor QMH module. The chamber is configured to reach a temperature set point. Once the temperature is reached, the VI stops. This illustrates that there is no need to have an </span><a class="rvts11" href="#DQMH%20Event">event structure</a><span class="rvts6"> in the calling code and provides an example of a DQMH module being used in a traditional “Configure &gt; Read/Write &gt; Close” application.</span></p>
<p class="rvps4"><span class="rvts6">To get the example:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps4"><span class="rvts6">Go to </span><span class="rvts14">Help&gt;Find Examples</span><span class="rvts22">…</span></li>
<li value="2" class="rvps4"><span class="rvts6">From the </span><span class="rvts14">NI Example Finder </span><span class="rvts6">window, select </span><span class="rvts14">Directory Structure&gt;Delacor&gt;Delacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6">.</span></li>
<li value="3" class="rvps4"><span class="rvts6">Open </span><span class="rvts22">DQMH Fundamentals – Thermal Chamber.lvproj</span><span class="rvts6">.</span></li>
<li value="4" class="rvps4"><span class="rvts6">Open</span><span class="rvts26"> </span><span class="rvts22">Thermal Chamber Controller.vi</span><span class="rvts6">.</span></li>
</ol>
<p class="rvps4"><img alt="LabVIEW Example 1: Thermal Chamber Controller Example.vi" style="padding : 1px;" src="lib/Thermal Chamber Controller VI.jpg"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="LabVIEWExample2ThermalChamberCon"></a><h3>LabVIEW Example 2: Thermal Chamber Controller with DUT.vi</h3>
<p></p>
<p class="rvps2"><span class="rvts37">This example implements a Thermal Chamber Controller with a single DUT, using a </span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts37"> Delacor QMH module for the controller, and a single instance of a </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts37"> Delacor QMH module for the DUT. The chamber is configured to reach a temperature set point. Once the temperature is reached, the Unit Under Test (UUT) performs a Self-Test and returns the result. The Unit Under Test code is configured for an 80% pass rate for demonstration purposes. </span><span class="rvts37">This example</span><span class="rvts6"> illustrates that there is no need to have an </span><a class="rvts11" href="#DQMH%20Event">event structure</a><span class="rvts6"> in the calling code and provides an example of two DQMH modules being used in a traditional &nbsp;“</span><span class="rvts38">Configure &gt; Read/Write &gt; Close</span><span class="rvts6">” application. </span></p>
<p class="rvps2"><span class="rvts6">To get the example:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Help&gt;Find Examples</span><span class="rvts22">…</span></li>
<li value="2" class="rvps2"><span class="rvts6">On the </span><span class="rvts14">NI Example Finder</span><span class="rvts22"> </span><span class="rvts6">window, select </span><span class="rvts14">Directory Structure&gt;Delacor&gt;Delacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Open </span><span class="rvts22">DQMH Fundamentals – Thermal Chamber.lvproj</span><span class="rvts6">.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Open</span><span class="rvts26"> </span><span class="rvts22">Thermal Chamber Controller with DUT.vi</span><span class="rvts6">.</span></li>
</ol>
<p class="rvps2"><img alt="LabVIEW Example 2: Thermal Chamber Controller with DUT.vi" style="padding : 1px;" src="lib/Thermal Chamber Controller with DUT.jpg"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="LabVIEWExample3ThermalChamberCon"></a><h3>LabVIEW Example 3: Thermal Chamber Controller with Multiple DUTs.vi</h3>
<p></p>
<p class="rvps2"><span class="rvts37">This example implements a Thermal Chamber Controller with multiple DUTs, using a </span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts37"> Delacor QMH module for the controller, and multiple instances of a </span><a class="rvts12" href="#Cloneable">cloneable</a><span class="rvts37"> Delacor QMH module for the DUT. The chamber is configured to reach a temperature set point. Once the temperature is reached, multiple Units Under Test (UUTs) each perform a Self-Test and return the result. The Unit Under Test code is configured for an 80% pass rate for demonstration purposes.</span></p>
<p class="rvps11"><span class="rvts39">This example</span><span class="rvts40"> illustrates that there is no need to have an </span><a class="rvts42" href="#DQMH%20Event">event structure</a><span class="rvts40"> in the calling code and provides an example of two DQMH modules being used in a traditional &nbsp;“</span><span class="rvts41">Configure &gt; Read/Write &gt; Close</span><span class="rvts40">” application. The example also illustrates how to manage multiple instances of a </span><a class="rvts42" href="#Cloneable">cloneable</a><span class="rvts43"> </span><span class="rvts40">DQMH module.</span></p>
<p class="rvps2"><span class="rvts6">To get the example:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Help&gt;Find Examples</span><span class="rvts22">…</span></li>
<li value="2" class="rvps2"><span class="rvts6">On the </span><span class="rvts14">NI Example Finder </span><span class="rvts6">window, select </span><span class="rvts14">Directory Structure&gt;Delacor&gt;Delacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Open </span><span class="rvts22">DQMH Fundamentals – Thermal Chamber.lvproj</span><span class="rvts6">.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Open</span><span class="rvts26"> </span><span class="rvts22">Thermal Chamber Controller with Multiple DUTs.vi</span><span class="rvts6">.</span></li>
</ol>
<p class="rvps12"><img alt="LabVIEW Example 3: Thermal Chamber Controller with Multiple DUTs.vi" style="padding : 1px;" src="lib/Thermal Chamber Controller with Multiple DUTs.jpg"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="TestStandExamples"></a><h2>TestStand Examples</h2>
<p></p>
<p class="rvps2"><span class="rvts35">Note: </span><span class="rvts6">The shipping examples do not require </span><a class="rvts12" href="http://ni.com/teststand" target="_blank">TestStand</a><span class="rvts6">. </span></p>
<p class="rvps2"><span class="rvts35">Note: </span><span class="rvts6">For each TestStand example, there is a similar example VI. </span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">If using TestStand, go to </span><a class="rvts11" href="#TestStandExample1ThermalChamberC">TestStand Example 1: Thermal Chamber Controller Example.seq</a><a class="rvts12" href="#TestStandExample1ThermalChamberC">.</a></li>
<li class="rvps2"><span class="rvts6">If not using TestStand, go to </span><a class="rvts11" href="#LabVIEWExample1ThermalChamberCon">LabVIEW Example 1: Thermal Chamber Controller Example.vi</a><a class="rvts12" href="#LabVIEWExample1ThermalChamberCon">.</a></li>
</ul>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The following video describes how to use the DQMH Examples. The video is called "TestStand DQMH Examples" and it can be found at : </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a><a class="rvts31" href="http://bit.ly/DelacorQMH" target="_blank">.</a></p>
<p class="rvps8"><span class="rvts6">         <iframe width="560" height="315" src="https://www.youtube.com/embed/wefCa-zqeIQ?showinfo=0" frameborder="0" allowfullscreen=""></iframe></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="TestStandExample1ThermalChamberC"></a><h3>TestStand Example 1: Thermal Chamber Controller Example.seq</h3>
<p></p>
<p class="rvps2"><span class="rvts6">This example sequence is a very simple introduction into calling the </span><a class="rvts11" href="#Public%20API">Public API</a><span class="rvts6"> of a DQMH module from </span><a class="rvts12" href="http://ni.com/teststand" target="_blank">TestStand</a><span class="rvts6">. This example starts a Thermal Chamber Controller DQMH module (</span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6">) and executes the following sequence:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Update the Set Point, Ramp Rate and Heater State (to allow heating).</span></li>
<li value="2" class="rvps2"><span class="rvts6">Monitor the status until the target Set Point is reached.</span></li>
</ol>
<p class="rvps2"><span class="rvts6">This example provides an example of a DQMH module being used in a traditional “</span><span class="rvts38">Configure &gt; Read/Write &gt; Close</span><span class="rvts6">” application. TestStand can be used to quickly define sequential operations to be performed by a DQMH module.</span></p>
<p class="rvps2"><span class="rvts6">See </span><a class="rvts11" href="#LabVIEWExample1ThermalChamberCon">LabVIEW Example 1: Thermal Chamber Controller Example.vi</a><span class="rvts17"> </span><span class="rvts6">for a similar example in LabVIEW.</span></p>
<p class="rvps2"><span class="rvts6">To get the example:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Help&gt;Find Examples</span><span class="rvts22">…</span></li>
<li value="2" class="rvps2"><span class="rvts6">On the </span><span class="rvts14">NI Example Finder </span><span class="rvts6">window, select </span><span class="rvts14">Directory Structure&gt;Delacor&gt;Delacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Open </span><span class="rvts22">DQMH Fundamentals – Thermal Chamber.lvproj.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Open </span><span class="rvts22">Thermal Chamber Controller Example.seq</span><span class="rvts6">.</span></li>
</ol>
<p class="rvps8"><span class="rvts26"><br/></span></p>
<p class="rvps8"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="TestStandExample2ThermalChamberC"></a><h3>TestStand Example 2: Thermal Chamber Controller Example With DUT.seq</h3>
<p></p>
<p class="rvps2"><span class="rvts6">This example sequence is an introduction into calling the </span><a class="rvts11" href="#Public%20API">Public API</a><span class="rvts6"> of multiple DQMH modules from </span><a class="rvts12" href="http://ni.com/teststand" target="_blank">TestStand</a><span class="rvts6">. This example starts a Thermal Chamber Controller DQMH module (</span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6">) and a single instance of the Device Under Test DQMH Module (</span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6">) and executes the following sequence:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Update the Set Point, Ramp Rate and Heater State (to allow heating).</span></li>
<li value="2" class="rvps2"><span class="rvts6">Monitor the status until the target Set Point is reached.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Perform a simulated self-test of the DUT.</span></li>
</ol>
<p class="rvps2"><span class="rvts6">To get the example:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Help&gt;Find Examples</span><span class="rvts22">…</span></li>
<li value="2" class="rvps2"><span class="rvts6">On the </span><span class="rvts14">NI Example Finder </span><span class="rvts6">window, select </span><span class="rvts14">Directory Structure&gt;Delacor&gt;Delacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Open </span><span class="rvts22">DQMH Fundamentals – Thermal Chamber.lvproj</span><span class="rvts6">.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Open </span><span class="rvts22">Thermal Chamber Controller Example With DUT.seq</span><span class="rvts6">.</span></li>
</ol>
<p class="rvps2"><span class="rvts6">See </span><a class="rvts11" href="#LabVIEWExample2ThermalChamberCon">LabVIEW Example 2: Thermal Chamber Controller with DUT.vi</a><span class="rvts6"> for a similar example in LabVIEW.</span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="TestStandExample3ThermalChamberC"></a><h3>TestStand Example 3: Thermal Chamber Controller Example With Multiple DUTs.seq</h3>
<p></p>
<p class="rvps2"><span class="rvts6">This example sequence is an advanced example calling in to the </span><a class="rvts11" href="#Public%20API">Public API</a><span class="rvts6"> of multiple DQMH modules from </span><a class="rvts12" href="http://ni.com/teststand" target="_blank">TestStand</a><span class="rvts6">. This example starts a Thermal Chamber Controller DQMH module (</span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6">) and multiple instances of the Device Under Test DQMH Module (</span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6">) in addition to a TestStand Manager DQMH Module (</span><a class="rvts11" href="#Singleton">singleton</a><span class="rvts6">). The TestStand Manager acts as a relay, monitoring the execution status of the TestStand sequence and calling the </span><a class="rvts15" href="#Stop%20Module">Stop Module.vi</a><span class="rvts6"> of the other modules should the sequence be terminated or aborted. This prevents the likelihood of being left with orphaned running DQMH modules.</span></p>
<p class="rvps2"><span class="rvts6">We utilize batch synchronization in TestStand to ensure that only a single thread will execute code associated with Thermal Chamber Controller operations. However, all threads will communicate and interact with a unique instance of the Device Under Test module. For more information on Batch Synchronization and Thread Scheduling please refer to the </span><a class="rvts12" href="http://sine.ni.com/tacs/app/overview/p/ap/of/lang/en/pg/1/sn/n8:33,n24:1334/id/1603/" target="_blank">TestStand 1: Test Development</a><span class="rvts6"> course provided by National Instruments.</span></p>
<p class="rvps2"><span class="rvts35">Note</span><span class="rvts6">: This sequence programmatically sets TestStand to execute using the BatchModel.seq process model file in order to better demonstrate the use of </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> DQMH modules.</span></p>
<p class="rvps2"><span class="rvts6">See </span><a class="rvts11" href="#LabVIEWExample3ThermalChamberCon">LabVIEW Example 3: Thermal Chamber Controller with Multiple DUTs.vi</a><span class="rvts17"> </span><span class="rvts6">for a similar example in LabVIEW.</span></p>
<p class="rvps2"><span class="rvts6">To get the example:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Help&gt;Find Examples</span><span class="rvts22">…</span></li>
<li value="2" class="rvps2"><span class="rvts6">On the </span><span class="rvts14">NI Example Finder</span><span class="rvts22"> </span><span class="rvts6">window, select </span><span class="rvts14">Directory Structure&gt;Delacor&gt;Delacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Open </span><span class="rvts22">DQMH Fundamentals – Thermal Chamber.lvproj</span><span class="rvts6">.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Open</span><span class="rvts26"> </span><span class="rvts22">Thermal Chamber Controller Example With Multiple DUTs.seq</span><span class="rvts6">.</span></li>
</ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="RunningtheDQMHProjectTemplate"></a><h1>Running the DQMH Project Template</h1>
<p></p>
<p class="rvps8"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="Create Project"></a>
<span class="rvts6">If the developer is creating an application employing multiple DQMH modules, start with the Project Templates</span><span class="rvts22">:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Click </span><span class="rvts14">Create Project</span><span class="rvts6"> from the </span><a class="rvts29" href="http://zone.ni.com/reference/en-XX/help/371361N-01/lvdialog/getting_started_window/" target="_blank">Getting Started Window</a><span class="rvts6"> in </span><a class="rvts12" href="http://ni.com/labview" target="_blank">LabVIEW.</a></li>
<li value="2" class="rvps2"><span class="rvts6">Click the </span><span class="rvts14">Delacor QMH Project Template</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">The following section assumes that the </span><span class="rvts14">Include "Do Something" events in new module?</span><span class="rvts6"> option was selected and that the "My Singleton" and "My Cloneable" DQMH modules were not renamed when the project was created.</span></li>
</ol>
<p class="rvps9"><img alt="Select Delacor QMH Project Template" style="padding : 1px;" src="lib/DQMH Project Template from Create Project.jpg"></p>
<p class="rvps9"><span class="rvts22"><br/></span></p>
<p class="rvps9"><span class="rvts6"><br/></span></p>
<p class="rvps9"><img alt="Create Project Wizard." style="padding : 1px;" src="lib/Create Project Wizard.jpg"></p>
<p class="rvps2"><span class="rvts6">Videos demonstrating the following steps and other examples are available at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH.</a></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">In the </span><span class="rvts14">Project Explorer</span><span class="rvts6"> window, open and run </span><span class="rvts22">My Singleton Module.lvlib:Main.vi</span><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Click the front panel controls and watch the</span><span class="rvts14"> </span><span class="rvts36">Status</span><span class="rvts6"> indicator display messages.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Stop the VI by closing the front panel. Since the module was started as a standalone module, the front panel does not close, but the VI stops.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Now run the </span><span class="rvts22">Test My Singleton Module API.vi</span><span class="rvts6"> under the </span><span class="rvts14">Testers</span><span class="rvts6"> virtual folder.</span></li>
<li value="5" class="rvps2"><span class="rvts6">Click the </span><span class="rvts14">Start Module</span><span class="rvts6"> button and wait for the </span><span class="rvts27">LED</span><span class="rvts6"> indicating that the </span><span class="rvts27">Module is running</span><span class="rvts14"> </span><span class="rvts6">to turn on.</span></li>
<li value="6" class="rvps2"><span class="rvts6">Click the front panel controls and watch the </span><a class="rvts12" href="#Test%20Module%20API">tester</a><span class="rvts6"> update according to the </span><a class="rvts12" href="#Request">requests</a><span class="rvts6"> sent and the </span><a class="rvts12" href="#Broadcast">broadcasts</a><span class="rvts6"> received.</span></li>
<li value="7" class="rvps2"><span class="rvts6">Stop the </span><a class="rvts12" href="#Test%20Module%20API">tester</a><span class="rvts24"> </span><span class="rvts6">by closing the front panel.</span></li>
</ol>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="UsingtheTesterVItoTroubleshootan"></a><h2>Using the Tester VI to Troubleshoot an Application while the Application is Running</h2>
<p></p>
<p class="rvps2"><a class="rvts44" href="#Test%20Module%20API">The </a><a class="rvts12" href="#Test%20Module%20API">Tester</a><a class="rvts44" href="#Test%20Module%20API"> VI can be used as a “sniffer” that displays the</a><a class="rvts12" href="#Test%20Module%20API"> </a><a class="rvts12" href="#Broadcast">broadcast</a><a class="rvts12" href="#Test%20Module%20API"> </a><a class="rvts44" href="#Test%20Module%20API">events fired by the</a><a class="rvts15" href="#Test%20Module%20API"> </a><a class="rvts15" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><a class="rvts44" href="#Test%20Module%20API">, and it can also send </a><a class="rvts11" href="#Request">request</a><a class="rvts44" href="#Test%20Module%20API"> events.</a></p>
<p class="rvps2"><span class="rvts6">The following video describes how to use the DQMH API tester as a sniffer. The video is called "DQMH API Testers As Sniffers" and it can be found at : </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a><a class="rvts31" href="http://bit.ly/DelacorQMH" target="_blank">.</a></p>
<p class="rvps8"><span class="rvts6">      <iframe width="560" height="315" src="https://www.youtube.com/embed/V56ZTI5H8eM?showinfo=0" frameborder="0" allowfullscreen=""></iframe></span></p>
<p class="rvps4"><span class="rvts6">Follow these steps:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps4"><span class="rvts6">Run</span><span class="rvts22"> Application.lvlib:Main.vi.</span></li>
<li value="2" class="rvps4"><span class="rvts6">On the </span><span class="rvts22">Application.lvlib:Main.vi</span><span class="rvts6"> that is running and is titled "Application", click the </span><span class="rvts14">Start My Singleton Module </span><span class="rvts6">button once, a </span><span class="rvts14">My Singleton </span><span class="rvts6">panel will show. Then go back to the </span><span class="rvts14">Application</span><span class="rvts6"> window and click the </span><span class="rvts14">Start New Instance </span><span class="rvts6">button several times. Several My Cloneable module panels should appear.</span></li>
<li value="3" class="rvps4"><span class="rvts6">Click the front panel controls in </span><span class="rvts22">Application.lvlib:Main.vi</span><span class="rvts6"> and observe the behavior of the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main VIs</a><span class="rvts6"> depending on the actions you performed.</span></li>
<li value="4" class="rvps4"><span class="rvts6">Choose different module instances to communicate with by selecting different options in the </span><span class="rvts14">Select Cloneable Module Instance </span><span class="rvts6">ring.</span></li>
<li value="5" class="rvps4"><span class="rvts6">Run the </span><span class="rvts22">Test My Singleton Module API.vi </span><span class="rvts6">under the Testers virtual folder.</span></li>
<li value="6" class="rvps4"><span class="rvts6">Click the </span><span class="rvts14">Start Module </span><span class="rvts6">button (at this point, this is only needed to get the correct state on the Module Running? indicator).</span></li>
<li value="7" class="rvps4"><span class="rvts6">See how actions on the </span><span class="rvts22">Application.lvlib:Main.vi </span><span class="rvts6">are reported in the </span><a class="rvts11" href="#Test%20Module%20API">tester</a><span class="rvts6">. Also, actions can be initiated from the </span><a class="rvts11" href="#Test%20Module%20API">tester</a><span class="rvts6">.</span></li>
<li value="8" class="rvps4"><span class="rvts6">Repeat steps 5-7 by running </span><span class="rvts22">Test My Cloneable Module API.vi</span><span class="rvts6"> under the Testers virtual folder.</span></li>
<li value="9" class="rvps4"><span class="rvts6">Click the </span><span class="rvts14">Refresh </span><span class="rvts6">button to update the list of clones currently running.</span></li>
<li value="10" class="rvps4"><span class="rvts6">See how actions on the </span><span class="rvts22">Application.lvlib:Main.vi </span><span class="rvts6">are reported in the </span><a class="rvts11" href="#Test%20Module%20API">tester</a><span class="rvts6">. Also, actions can be initiated from the </span><a class="rvts11" href="#Test%20Module%20API">tester</a><span class="rvts6">.</span></li>
</ol>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="ModifyingthisTemplate"></a><h1>Modifying this Template</h1>
<p></p>
<p class="rvps2"><span class="rvts6">The DQMH project template installs several utilities available in the </span><span class="rvts14">Tools&gt;&gt;Delacor&gt;&gt;DQMH</span><span class="rvts6"> menu:</span></p>
<p class="rvps3"><img alt="DQMH Productivity tools installed in LabVIEW Tools menu." style="padding : 1px;" src="lib/Tools Delacor DQMH Menu.png"></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><a class="rvts11" href="#AddingaNewDQMHModule">Adding a new DQMH Module</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><a class="rvts11" href="#AddingaNewDQMHModulefromaCustomT">Adding a new DQMH Module from a Custom Template</a></li>
</ul>
<li class="rvps2"><a class="rvts11" href="#CreatingaNewDQMHEvent">Creating a new DQMH Event</a></li>
<li class="rvps2"><a class="rvts11" href="#RemovinganExistingDQMHEvent">Removing an existing DQMH Event</a></li>
<li class="rvps2"><a class="rvts11" href="#RenaminganExistingDQMHEvent">Renaming an existing DQMH Event</a></li>
<li class="rvps2"><a class="rvts11" href="#RenaminganExistingDQMHModule">Renaming an existing DQMH Module</a></li>
<li class="rvps2"><a class="rvts11" href="#ValidatinganExistingDQMHModule">Validating an existing DQMH Module</a></li>
</ul>
<p class="rvps2"><span class="rvts6">A description of these productivity tools can be found on the video "DQMH Productivity Tools" found at : </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a><a class="rvts31" href="http://bit.ly/DelacorQMH" target="_blank">. The video is embedded below:</a></p>
<p class="rvps2"><span class="rvts6">            <iframe width="560" height="315" src="https://www.youtube.com/embed/V56ZTI5H8eM?showinfo=0" frameborder="0" allowfullscreen=""></iframe></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="AddingaNewDQMHModule"></a><h2>Adding a New DQMH Module</h2>
<p></p>
<p class="rvps2"><span class="rvts6">A DQMH module represents a task the application can perform, such as acquiring data or logging data, in parallel with other tasks. Each DQMH module can be divided into sub-tasks that correspond to states. The DQMH also responds to </span><a class="rvts12" href="#Request">requests</a><span class="rvts6"> that other VIs can make in order to ask it to perform certain actions. It can also </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> information to any VI that is registered to receive its </span><a class="rvts11" href="#DQMH%20Core%20Broadcasts">broadcasts</a><span class="rvts6">.</span></p>
<p class="rvps2"><span class="rvts6">To create a new module:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Videos demonstrating the following steps and other examples are available at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a></li>
</ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Add New DQMH Module</span><span class="rvts22">…</span></li>
<li value="2" class="rvps2"><span class="rvts6">Provide a</span><span class="rvts14"> Module Name</span><span class="rvts6"> in the </span><span class="rvts14">Add New DQMH Module</span><span class="rvts6"> dialog. This will be the name of the DQMH Module library.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Provide a </span><span class="rvts14">Module Save Path</span><span class="rvts6">. By default, if this project was created using the</span><span class="rvts24"> </span><a class="rvts11" href="#Create%20Project">DQMH project template</a><span class="rvts6">, the module will be saved under the </span><span class="rvts22">Libraries\&lt;Module Name&gt;</span><span class="rvts6"> subfolder next to the </span><span class="rvts22">.lvproj</span><span class="rvts6"> file on disk. A different path can be specified.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Select the </span><span class="rvts14">Module Type</span><span class="rvts6">, either </span><a class="rvts29" href="#Singleton">Singleton</a><span class="rvts6"> or </span><a class="rvts29" href="#Cloneable">Cloneable</a><span class="rvts6">. A </span><a class="rvts11" href="#Singleton">Singleton</a><span class="rvts6"> module only ever exists as a single instance. A </span><a class="rvts11" href="#Cloneable">Cloneable</a><span class="rvts6"> module can have one or multiple reentrant instances running simultaneously. See </span><a class="rvts11" href="#AddingaNewDQMHModulefromaCustomT">Adding a new DQMH Module from a Custom Template</a><span class="rvts6"> section for steps to add your own module types. </span></li>
<li value="5" class="rvps2"><span class="rvts6">Specify whether or not you want to </span><span class="rvts14">Include “</span><a class="rvts29" href="#Do%20Something">Do Something</a><span class="rvts14">” </span><a class="rvts29" href="#DQMH%20Event">events</a><span class="rvts14"> in new module?</span><span class="rvts6"> If you are already familiar with creating DQMH modules, you can deselect this option, which will create a DQMH module with the minimum required set of </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts6">.</span></li>
<li value="6" class="rvps2"><span class="rvts6">Optionally, click the </span><span class="rvts14">Edit Overlay</span><span class="rvts6"> button. This overlay will be used by the new DQMH Module library and its VIs. This overlay can be later changed by right-clicking on the Module Library and selecting </span><span class="rvts14">Properties&gt;General Settings&gt;Edit Icon</span><span class="rvts6">.</span></li>
<li value="7" class="rvps2"><span class="rvts6">Click </span><span class="rvts14">OK</span><span class="rvts6"> to create the new DQMH Module. The new module .</span><span class="rvts22">lvlib</span><span class="rvts6"> and </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts24"> </span><span class="rvts6">VI will be selected in the project explorer window after the new module is created.</span></li>
</ol>
<p class="rvps9"><img alt="Add New DQMH Module wizard." style="padding : 1px;" src="lib/Add New DQMH Module wizard.jpg"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="AddingaNewDQMHModulefromaCustomT"></a><h3>Adding a New DQMH Module from a Custom Template</h3>
<p></p>
<p class="rvps2"><span class="rvts6">The previous section describes how to </span><a class="rvts11" href="#AddingaNewDQMHModule">add a new DQMH Module</a><span class="rvts6">. This option lists “</span><a class="rvts11" href="#Singleton">Singleton</a><span class="rvts6">” and “</span><a class="rvts11" href="#Cloneable">Cloneable</a><span class="rvts6">” DQMH modules as the only two types supported. Follow the steps below to create a custom DQMH Module template and add it to the list of available DQMH Module Types. &nbsp;After completing the steps below, the available types will be “</span><a class="rvts11" href="#Singleton">Singleton</a><span class="rvts6">”, “</span><a class="rvts11" href="#Cloneable">Cloneable</a><span class="rvts6">”, and “MyNewModule”. Where “MyNewModule” is the name of the new custom DQMH module template. </span></p>
<p class="rvps2"><span class="rvts6">To create a new DQMH Custom Template:</span></p>
<p class="rvps2"><span class="rvts6">A demonstration of how to create a customized DQMH template can be found on the video "NI week 2016 Create DQMH Module From Template" found at : </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH. </a><a class="rvts31" href="http://bit.ly/DelacorQMH" target="_blank">The video is embedded below:</a></p>
<p class="rvps8"><span class="rvts6"><iframe width="425" height="350" src="https://www.youtube.com/embed/qSRrLm901Ok" frameborder="0" allowfullscreen=""></iframe></span></p>
<p class="rvps2"><span class="rvts35">Note:</span><span class="rvts6"> A DQMH Template Example is included with DQMH and can be found in </span><span class="rvts45">&lt;LabVIEW&gt;\vi.lib\Delacor\Delacor QMH Toolkit\DQMH Template Example</span><span class="rvts6"> and includes a </span><span class="rvts45">DQMH Template Example</span><span class="rvts6"> Module, its tester and its XML file mentioned below.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><a class="rvts11" href="#AddingaNewDQMHModule">Create a new DQMH Module</a><span class="rvts6"> and customize it to fit your needs. Save your DQMH Module. This document refers to this new DQMH module as </span><span class="rvts22">&lt;MyNewModule&gt;.</span><span class="rvts6"> Replace </span><span class="rvts22">&lt;MyNewModule&gt;</span><span class="rvts6"> with the new DQMH Module name. Make sure that the DQMH module was created using </span><a class="rvts29" href="#AddingaNewDQMHModule">Tools&gt;Delacor&gt;DQMH&gt;Add New DQMH Module…</a><span class="rvts22"> </span><span class="rvts6">and if you need to rename the DQMH Module, use </span><a class="rvts29" href="#RenaminganExistingDQMHModule">Tools&gt;Delacor&gt;DQMH&gt;Rename DQMH Module…</a></li>
<li value="2" class="rvps2"><span class="rvts6">Save the DQMH Custom Template in</span><span class="rvts22"> &lt;LabVIEW Data&gt;\DQMH Module Templates\Source\&lt;MyNewModule&gt; </span><span class="rvts6">folder.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Save the </span><span class="rvts22">Test &lt;MyNewModule&gt; API.vi</span><span class="rvts6"> in </span><span class="rvts22">&lt;LabVIEW Data&gt;\DQMH Module Templates\Source\&lt;MyNewModule&gt;</span><span class="rvts14"> </span><span class="rvts6">folder.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Create the </span><span class="rvts22">DQMH Module Template MetaData XML</span><span class="rvts6"> file and save it as</span><span class="rvts22"> &lt;LabVIEW Data&gt;\DQMH Module Templates\MetaData\&lt;MyNewModule&gt;.xml</span></li>
</ol>
<p class="rvps2"><span class="rvts6">XML Contents are:</span></p>
<p class="rvps13"><span class="rvts22">&lt;?xml version=”1.0″ encoding=”Windows-1252″ standalone=”yes”?&gt; </span></p>
<p class="rvps14"><span class="rvts22">&lt;MetaData&gt;</span></p>
<p class="rvps15"><span class="rvts22">&lt;DQMHTemplate&gt;</span></p>
<p class="rvps16"><span class="rvts22">&lt;Title&gt;&lt;MyNewModule&gt;&lt;/Title&gt;</span></p>
<p class="rvps16"><span class="rvts22">&lt;Description&gt;Replace the description with &lt;MyNewModule&gt; description. A sample DQMH module that demonstrates the plug-in functionality of the Add New DQMH Module utility.&lt;/Description&gt;</span></p>
<p class="rvps16"><span class="rvts22">&lt;LocationPath&gt;Delacor/&lt;MyNewModule&gt; &lt;/LocationPath&gt;</span></p>
<p class="rvps16"><span class="rvts22">&lt;LibraryPath&gt;&lt;MyNewModule&gt;.lvlib&lt;/LibraryPath&gt;</span></p>
<p class="rvps16"><span class="rvts22">&lt;TesterPath&gt;Test &lt;MyNewModule&gt; API.vi&lt;/TesterPath&gt;</span></p>
<p class="rvps16"><span class="rvts22">&lt;CustomVIPath&gt;&lt;/CustomVIPath&gt;</span></p>
<p class="rvps15"><span class="rvts22">&lt;/DQMHTemplate&gt;</span></p>
<p class="rvps14"><span class="rvts22">&lt;/MetaData&gt;</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="5" class="rvps8"><span class="rvts6">Go to </span><a class="rvts29" href="#AddingaNewDQMHModule">Tools&gt;Delacor&gt;DQMH&gt;Add New DQMH Module…</a><span class="rvts6"> and verify that </span><span class="rvts22">&lt;MyNewModule&gt;</span><span class="rvts6"> is offered as an option for </span><span class="rvts14">Module Type</span><span class="rvts6"> and the description text from the </span><span class="rvts22">&lt;MyNewModule&gt;.xml</span><span class="rvts6"> file is displayed.</span></li>
</ol>
<p class="rvps9"><img alt="DQMH Template Example Disk Hierarchy." style="padding : 1px;" src="lib/DQMH Template Example Disk Hierarchy.jpg"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="CreatingaNewDQMHEvent"></a><h2>Creating a New DQMH Event</h2>
<p></p>
<p class="rvps2"><span class="rvts17">A </span><a class="rvts11" href="#DQMH%20Event">DQMH Event</a><span class="rvts6"> can be either a </span><a class="rvts11" href="#Request">request</a><span class="rvts24"> </span><span class="rvts6">or a </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6">. A </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> is code that fires an </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> that the </span><a class="rvts15" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> has to act on. A </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> is code that fires an </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> that informs other VIs that are registered to listen that the </span><a class="rvts15" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><a name="Request and Wait for Reply"></a>
<span class="rvts16"> </span><span class="rvts6">has done something. There are also synchronous events of the type request and wait for reply. These </span><a class="rvts12" href="#DQMH%20Event">events</a><span class="rvts6"> are fired when the </span><a class="rvts15" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> needs to return a reply to the VI that called the </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> and this calling VI must wait until it gets that reply (or the </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> times out).</span></p>
<p class="rvps2"><span class="rvts6">To create a new event:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Videos demonstrating the following steps and other examples are available at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a></li>
</ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to</span><span class="rvts14"> Tools&gt;Delacor&gt;DQMH&gt;Create New DQMH Event…</span><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Two windows will open: the </span><span class="rvts14">Create New DQMH Event</span><span class="rvts6"> window and the </span><span class="rvts14">Arguments</span><span class="rvts6"> Window.</span></li>
<li value="3" class="rvps2"><span class="rvts6">In the </span><span class="rvts14">Create New DQMH Event</span><span class="rvts6"> window select the </span><span class="rvts22">DQMH module</span><span class="rvts6"> for which you wish to create a new </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6">. This drop down menu will only list valid </span><span class="rvts22">DQMH modules</span><span class="rvts6"> found within the project.</span></li>
<li value="4" class="rvps2"><span class="rvts6">In the </span><span class="rvts14">Create New DQMH Event</span><span class="rvts6"> window, specify the type of </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> you wish to create. A description of each </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> type appears next to the drop down selection:</span></li>
</ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><a class="rvts11" href="#Request">Request</a><span class="rvts6">: An </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> generated by a caller that the module is registered to receive.</span></li>
</ul></ul>
<p class="rvps2"><span class="rvts6">Typically a </span><a class="rvts11" href="#Request">request</a><span class="rvts17"> </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts24"> </span><span class="rvts6">is a request for the module to “</span><a class="rvts11" href="#Do%20Something">Do something</a><span class="rvts6">”.</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><a class="rvts11" href="#Broadcast">Broadcast</a><span class="rvts6">: An </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> generated by the module to let any external code that is registered to receive the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts24"> </span><span class="rvts6">know that “</span><a class="rvts11" href="#Did%20Something">Something happened</a><span class="rvts6">”.</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">Typically a </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts17"> </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> is generated after the module acts on a </span><a class="rvts11" href="#Request">request</a><span class="rvts6">. For </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts17"> </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts6">, you are given the option to use the same argument as an existing </span><a class="rvts11" href="#Request">request</a><span class="rvts6">. An example would be a </span><a class="rvts11" href="#Request">request</a><span class="rvts24"> </span><span class="rvts6">to confirm if current calibration values are up to date. The </span><a class="rvts11" href="#Request">request</a><span class="rvts24"> </span><span class="rvts6">argument could be the current calibration values, and the </span><a class="rvts11" href="#Request">request</a><span class="rvts24"> </span><span class="rvts6">argument could be the up to date calibration values.</span></li>
</ul>
<li class="rvps2"><span class="rvts14">Request and Wait for Reply</span><span class="rvts6">: A</span><span class="rvts24"> </span><a class="rvts11" href="#Request">request</a><span class="rvts17"> </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> where the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> generator waits for the module to acknowledge the receipt of the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6">. This provides synchronous </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> and reply functionality.</span></li>
<li class="rvps2"><a name="Round Trip"></a>
<span class="rvts14">Round Trip</span><span class="rvts6">: A </span><a class="rvts11" href="#Request">request</a><span class="rvts17"> </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts17"> </span><span class="rvts6">and a </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts17"> </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> where the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> payload (data type) is the same. These </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts6"> are asynchronous but may be logically related (i.e., </span><a class="rvts11" href="#Do%20Something">Do Something</a><span class="rvts17"> </span><span class="rvts6">and</span><span class="rvts24"> </span><a class="rvts11" href="#Did%20Something">Did Something</a><span class="rvts6">).</span></li>
</ul></ul>
<p class="rvps2"><span class="rvts6">5. &nbsp; &nbsp; Specify the name of the new </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> (in the case of the </span><a class="rvts11" href="#Round%20Trip">Round Trip</a><span class="rvts6"> option, specify the name for the </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> and the name for the </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6">).</span></p>
<p class="rvps2"><span class="rvts6">6. &nbsp; &nbsp; Add controls to the </span><span class="rvts14">Arguments</span><span class="rvts6"> window. These values will be the arguments sent along with the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> when it fires. Use a descriptive label for each control.</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">There is no need to wrap the arguments with a cluster in that window. The utility will take the controls in the </span><span class="rvts14">Arguments</span><span class="rvts6"> window and add them to an </span><span class="rvts22">Arguments typedef cluster</span><span class="rvts6">. If you wish to receive all the arguments as a single cluster in the event loop, when the event fires, you may choose to wrap the arguments in a cluster. Examples include an x,y point, or a left, right, top, bottom values for a rectangle etc.</span></li>
<li class="rvps2"><span class="rvts6">For </span><a class="rvts11" href="#Request%20and%20Wait%20for%20Reply">Request and Wait for Reply</a><span class="rvts6"> events, a notifier reference does not need to be added in the </span><span class="rvts14">Arguments</span><span class="rvts6"> window. The </span><span class="rvts22">Create New DQMH Event</span><span class="rvts6"> utility will create the notifier and its typedef cluster payload automatically.</span></li>
<li class="rvps2"><span class="rvts6">If the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> is being created for a </span><a class="rvts11" href="#Cloneable">cloneable</a><span class="rvts6"> module, there is no need to add the </span><a class="rvts11" href="#Module%252%20">Module ID</a><span class="rvts6"> control. The </span><span class="rvts22">Create New DQMH Event</span><span class="rvts6"> utility will add the </span><a class="rvts11" href="#Module%252%20">Module ID</a><span class="rvts6"> control to the Arguments typedef cluster automatically.</span></li>
<li class="rvps2"><span class="rvts6">Existing typedefs can be added to the </span><span class="rvts14">Arguments</span><span class="rvts6"> window.</span></li>
<li class="rvps2"><span class="rvts6">If a new typedef is created in the process of adding controls to the </span><span class="rvts14">Arguments</span><span class="rvts6"> window, you will be prompted to save the </span><span class="rvts22">typedef</span><span class="rvts6"> before the event can be created.</span></li>
<li class="rvps2"><span class="rvts6">At least one control has to be added to the </span><span class="rvts14">Arguments</span><span class="rvts6"> window. This will make it easier to modify the code if the developer changes his mind and an argument is needed in the future. At that point a </span><span class="rvts22">typedef argument cluster</span><span class="rvts6"> will be available for the developer to add other arguments.</span></li>
</ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="7" class="rvps2"><span class="rvts6">(Optional) Enter a description for the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6">. This description will be included as the VI documentation for the VIs that this tool created to fire the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> created.</span></li>
<li value="8" class="rvps2"><span class="rvts6">Click </span><span class="rvts22">OK</span><span class="rvts6"> to create the new event(s). The new event VI(s) will be selected in the </span><span class="rvts22">project explorer</span><span class="rvts6"> window after creation is complete.</span></li>
<li value="9" class="rvps2"><span class="rvts6">The</span><a class="rvts46" href="#DQMH%20Module%20Main"> </a><a class="rvts48" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6"> and </span><a class="rvts46" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI will be broken. The developer has to complete several actions to complete the creation of this code, all of which are identified with </span><span class="rvts22">#CodeNeeded</span><span class="rvts6"> bookmarks that can be explored with the </span><span class="rvts14">Bookmark Manager</span><span class="rvts6"> window. DQMH 3.0 adds automatic wiring of event structure frames when used in LabVIEW 2016 or later.</span></li>
<li value="10" class="rvps2"><span class="rvts6">The developer needs to complete the following actions:</span></li>
</ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">In the case of a new </span><a class="rvts46" href="#Request">Request</a><a class="rvts12" href="#Request">:</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts46" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI</span><a class="rvts12" href="#Broadcast">:</a></li>
</ul></ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Add a new front panel control to test the new </span><a class="rvts46" href="#Request">request</a><span class="rvts47"> </span><a class="rvts46" href="#DQMH%20Event">event</a><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Open the block diagram, which should be showing the newly added event frame with the new </span><a class="rvts46" href="#Request">request</a><span class="rvts6"> VI inside. Right-click on the event structure, &nbsp;select </span><span class="rvts14">Edit Events Handled by This Case</span><span class="rvts6">, and select the control added in the previous step.</span></li>
<li value="3" class="rvps2"><span class="rvts6">By default, all the inputs of the </span><a class="rvts46" href="#Request">request</a><span class="rvts6"> VI are required. Wire appropriate inputs to the </span><a class="rvts11" href="#Request">request</a><span class="rvts6"> VI.</span></li>
<li value="4" class="rvps2"><span class="rvts6">The </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI should no longer be broken (assuming it was not broken before the new </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> was added).</span></li>
</ol></ol></ol></ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6"> In the</span><span class="rvts47"> </span><a class="rvts46" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6">:</span></li>
</ul></ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Open the block diagram, which should be showing the newly added event frame in the </span><a class="rvts11" href="#EHL">EHL</a><span class="rvts6"> and the newly added case frame in the </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Right-click the </span><a class="rvts11" href="#DQMH%20Event">event</a><span class="rvts6"> structure, select</span><span class="rvts22"> </span><span class="rvts14">Edit Events Handled by This Case</span><span class="rvts6">, and select the newly created request that should be listed under</span><span class="rvts14"> Dynamic&gt;&gt;&lt;Module Name&gt; Request Events</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Wire the event data </span><span class="rvts22">(&lt;arguments label(s)&gt;) </span><span class="rvts6">to the </span><span class="rvts22">Bundle</span><span class="rvts6"> function in the event frame.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Add necessary code to the </span><span class="rvts22">&lt;request name&gt;</span><span class="rvts6"> frame in the MHL case structure.</span></li>
</ol></ol></ol></ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">In the case of a new </span><a class="rvts11" href="#Broadcast">Broadcast</a><a class="rvts12" href="#Broadcast">:</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI:</span></li>
</ul></ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Open the block diagram, which should be showing the newly added event frame with the </span><span class="rvts22">#CodeNeeded</span><span class="rvts6"> bookmark. Right-click the event structure, select </span><span class="rvts14">Edit Events Handled by This Case</span><span class="rvts6">, and select the newly created broadcast that should be listed under </span><span class="rvts14">Dynamic&gt;&gt;&lt;Module Name&gt; Broadcast Events</span><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Add code to process the event data sent by the </span><a class="rvts11" href="#Broadcast">broadcast</a><span class="rvts6"> event.</span></li>
<li value="3" class="rvps2"><span class="rvts6">The </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI should no longer be broken (assuming it was not broken before the new event was added).</span></li>
</ol></ol></ol></ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts11" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6">:</span></li>
</ul></ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Open the block diagram, which should have the newly created broadcast VI on the left side with a </span><span class="rvts22">#CodeNeeded</span><span class="rvts6"> bookmark.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Move that VI wherever the newly created broadcast event needs to be called.</span></li>
</ol></ol></ol></ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">In the case of a new </span><a class="rvts11" href="#Request%20and%20Wait%20for%20Reply">Request and Wait for Reply</a><a class="rvts12" href="#Request%20and%20Wait%20for%20Reply">:</a></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI:</span></li>
</ul></ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Add a new front panel control to test the new request event.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Open the block diagram, which should be showing the newly added event frame with the new request VI inside. Right-click the event structure, select </span><span class="rvts14">Edit Events Handled by This Case</span><span class="rvts6">, and select the control added in the previous step.</span></li>
<li value="3" class="rvps2"><span class="rvts6">By default, all the inputs of the request VI are required. Wire appropriate inputs to the request VI.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Process the reply payload output from the new request VI.</span></li>
<li value="5" class="rvps2"><span class="rvts6">If the payload argument needs to be changed, open the new request VI and right-click the </span><span class="rvts14">Reply Payload </span><span class="rvts6">indicator to open its </span><span class="rvts22">typedef</span><span class="rvts6"> and edit it accordingly.</span></li>
<li value="6" class="rvps2"><span class="rvts6">The </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI should no longer be broken (assuming it was not broken before the new event was added).</span></li>
</ol></ol></ol></ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts46" href="#DQMH%20Module%20Main">DQMH Module Main.vi</a><span class="rvts6">:</span></li>
</ul></ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;"><ol style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Open the block diagram, which should be showing the newly added event frame in the </span><a class="rvts11" href="#EHL">EHL</a><span class="rvts6"> and the newly added case frame in the </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Right-click the event structure, select </span><span class="rvts14">Edit Events Handled by This Case</span><span class="rvts6">, and select the newly created request that should be listed under </span><span class="rvts14">Dynamic&gt;&gt;&lt;Module Name&gt; Request Events</span><span class="rvts6">.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Wire the event data (</span><span class="rvts22">&lt;arguments label(s)&gt;</span><span class="rvts6">) to the </span><span class="rvts22">Bundle</span><span class="rvts6"> function in the event frame. Take special care to wire the </span><span class="rvts22">Wait Notifier</span><span class="rvts6"> event node output to the </span><span class="rvts22">Bundle</span><span class="rvts6"> function that the utility added.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Add necessary code to the </span><span class="rvts22">&lt;request name&gt;</span><span class="rvts6"> frame in the </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6"> case structure.</span></li>
<li value="5" class="rvps2"><span class="rvts6">Wire the proper reply to the </span><span class="rvts22">Send Notification</span><span class="rvts6"> function.</span></li>
</ol></ol></ol></ol>
<p class="rvps17"><img alt="Create New DQMH Event wizard." style="padding : 1px;" src="lib/Create New DQMH Event wizard.jpg"></p>
<p class="rvps15"><span class="rvts6"><br/></span></p>
<p class="rvps15"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="RemovinganExistingDQMHEvent"></a><h2>Removing an Existing DQMH Event</h2>
<p></p>
<p class="rvps2"><span class="rvts6">To remove an existing event:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Videos demonstrating the following steps and other examples are available at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a></li>
</ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Remove DQMH Event…</span><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Select the DQMH Module containing the event you wish to remove. This drop down menu will only list valid DQMH modules found within the project.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Specify the event you wish to remove. This drop down menu will let you select between all the request and broadcast events in the module.</span></li>
</ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">Note that several requests and broadcasts are considered part of the DQMH core, and cannot be removed:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><a class="rvts11" href="#DQMH%20Core%20Requests">Core Requests</a><span class="rvts6">:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts22">Show Module Panel.vi</span></li>
<li class="rvps2"><span class="rvts22">Hide Module Panel.vi</span></li>
<li class="rvps2"><span class="rvts22">Get Module Execution Status.vi</span></li>
<li class="rvps2"><span class="rvts22">Stop Module.vi</span></li>
</ul>
<li class="rvps2"><a class="rvts11" href="#DQMH%20Core%20Broadcasts">Core Broadcasts</a><span class="rvts6">:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts22">Module Did Init</span></li>
<li class="rvps2"><span class="rvts22">Status Updated</span></li>
<li class="rvps2"><span class="rvts22">Error Reported</span></li>
<li class="rvps2"><span class="rvts22">Module Did Stop </span></li>
<li class="rvps2"><span class="rvts22">Update Module Execution Status</span></li>
</ul></ul>
<li class="rvps2"><span class="rvts6">Note that if the selected event is the request part of a round trip pair, both events will be removed.</span></li>
</ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="4" class="rvps2"><span class="rvts6">Click </span><span class="rvts14">OK</span><span class="rvts6"> and the specified event will be removed.</span></li>
<li value="5" class="rvps2"><span class="rvts6">The error window will be displayed. The developer needs to complete the following actions:</span></li>
</ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">In the case of a Request:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Open the block diagram and find the event frame configured to test calling this request.</span></li>
<li class="rvps2"><span class="rvts6">Right-click the event structure and select </span><span class="rvts14">Delete This Event Case</span><span class="rvts6">. This action should also remove the control added to test this request.</span></li>
<li class="rvps2"><span class="rvts6">If prompted to save the request VI and its argument, select </span><span class="rvts14">Don’t Save</span><span class="rvts6">.</span></li>
</ul>
<li class="rvps2"><span class="rvts6">In the</span><a class="rvts46" href="#DQMH%20Module%20Main"> DQMH Module Main.vi</a><span class="rvts6">:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Open the block diagram and find the event frame configured for this request (It might no longer be listed and instead say something like “</span><span class="rvts22">Unknown Event (0x0)</span><span class="rvts6">”).</span></li>
<li class="rvps2"><span class="rvts6">Right-click the event structure and select </span><span class="rvts14">Delete This Event Case</span><span class="rvts6">.</span></li>
<li class="rvps2"><span class="rvts6">Find the associated </span><span class="rvts22">&lt;request name&gt;</span><span class="rvts6"> in the </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6"> case structure, right-click on the case structure, and select </span><span class="rvts14">Delete This Case</span><span class="rvts6">.</span></li>
<li class="rvps2"><span class="rvts6">If prompted to save the request VI and its argument, select </span><span class="rvts14">Don’t Save</span><span class="rvts6">.</span></li>
</ul></ul>
<li class="rvps2"><span class="rvts6">In the case of a Broadcast:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts11" href="#Test%20Module%20API">Tester</a><span class="rvts6"> VI:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Open the block diagram and find the event frame configured for this broadcast. (It might no longer be listed and instead say something like “</span><span class="rvts22">Unknown Event (0x0)</span><span class="rvts6">”.)</span></li>
<li class="rvps2"><span class="rvts6">Right-click the event structure and select</span><span class="rvts22"> </span><span class="rvts14">Delete This Event Case</span><span class="rvts6">.</span></li>
<li class="rvps2"><span class="rvts6">If prompted to save the broadcast VI and its argument, select </span><span class="rvts14">Don’t Save</span><span class="rvts6">.</span></li>
</ul>
<li class="rvps2"><span class="rvts6">In the </span><a class="rvts46" href="#DQMH%20Module%20Main">Module Main VI</a><span class="rvts6">:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Open the block diagram and find the places where the broadcast VI is called and remove it.</span></li>
<li class="rvps2"><span class="rvts6">If prompted to save the broadcast VI and its argument, select </span><span class="rvts14">Don’t Save</span><span class="rvts6">.</span></li>
</ul></ul></ul></ul>
<p class="rvps9"><img alt="Remove DQMH Event wizard." style="padding : 1px;" src="lib/Remove DQMH Event wizard.jpg"></p>
<p class="rvps9"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="RenaminganExistingDQMHEvent"></a><h2>Renaming an Existing DQMH Event</h2>
<p></p>
<p class="rvps2"><span class="rvts6">To rename an existing event:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Videos demonstrating the following steps and other examples are available at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a></li>
</ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Rename DQMH Event…</span><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Select the DQMH Module containing the event you wish to remove. This drop down menu will only list valid DQMH modules found within the project.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Specify the event you wish to rename. This drop down menu will let you select between all the request and broadcast events in the module.</span></li>
</ol>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;"><ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: circle;">
<li class="rvps2"><span class="rvts6">Note that several requests and broadcasts are considered part of the DQMH core, and cannot be renamed:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: square;">
<li class="rvps2"><a class="rvts11" href="#DQMH%20Core%20Requests">Core Requests</a><span class="rvts6">:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts22">Show Module Panel.vi</span></li>
<li class="rvps2"><span class="rvts22">Hide Module Panel.vi</span></li>
<li class="rvps2"><span class="rvts22">Get Module Execution Status.vi</span></li>
<li class="rvps2"><span class="rvts22">Stop Module.vi</span></li>
</ul>
<li class="rvps2"><a class="rvts11" href="#DQMH%20Core%20Broadcasts">Core Broadcasts</a><span class="rvts6">:</span></li>
<ul style="text-indent: 0px; margin-left: 48px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts22">Module Did Init</span></li>
<li class="rvps2"><span class="rvts22">Status Updated </span></li>
<li class="rvps2"><span class="rvts22">Error Reported</span></li>
<li class="rvps2"><span class="rvts22">Module Did Stop</span></li>
<li class="rvps2"><span class="rvts22">Update Module Execution Status</span></li>
</ul></ul></ul></ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="4" class="rvps2"><span class="rvts6">Specify the new name for the event.</span></li>
<li value="5" class="rvps2"><span class="rvts6">Click </span><span class="rvts14">OK</span><span class="rvts6"> and the specified event will be renamed.</span></li>
</ol>
<p class="rvps2"><span class="rvts35">Note</span><span class="rvts6">: The renamed DQMH Event VI will include a note in its documentation indicating “This VI was renamed by the DQMH Rename Event utility. Make sure the VI Description is updated to reflect the new event name, then delete this comment”. Also, none of the arguments nor </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6"> cases will be renamed. This is a security measure, because other code might be enqueuing to that case in the </span><a class="rvts11" href="#MHL">MHL</a><span class="rvts6"> loop.</span></p>
<p class="rvps9"><img alt="Rename DQMH Event wizard." style="padding : 1px;" src="lib/Rename DQMH Event wizard.jpg"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="RenaminganExistingDQMHModule"></a><h2>Renaming an Existing DQMH Module</h2>
<p></p>
<p class="rvps2"><span class="rvts6">To rename an existing DQMH module:</span></p>
<ul style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: disc;">
<li class="rvps2"><span class="rvts6">Videos demonstrating the following steps and other examples are available at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a></li>
</ul>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Rename DQMH Module…</span><span class="rvts6">.</span></li>
<li value="2" class="rvps2"><span class="rvts6">Select the DQMH Module you wish to rename. This drop down menu will only list valid DQMH modules found within the project.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Enter the new name for the module.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Click the </span><span class="rvts14">OK</span><span class="rvts6"> button and wait for the module to be renamed.</span></li>
<li value="5" class="rvps2"><span class="rvts6">Right-click </span><span class="rvts14">Renamed Module.lvlib&gt;&gt;Properties&gt;&gt;General Settings&gt;&gt;Edit Icon</span><span class="rvts6"> and edit the </span><span class="rvts22">Icon Text&gt;&gt;Line 1</span><span class="rvts6"> text to make the header reflect the new module’s name. Make any other changes like color and click </span><span class="rvts14">OK</span><span class="rvts6"> when done.</span></li>
<li value="6" class="rvps2"><span class="rvts6">Click the </span><span class="rvts14">OK</span><span class="rvts6"> button on the </span><span class="rvts14">Library Properties </span><span class="rvts6">window, and when prompted to apply the new icon to all the VIs in the library, click </span><span class="rvts14">Yes</span><span class="rvts6">. Accept saving all VIs when prompted.</span></li>
<li value="7" class="rvps2"><span class="rvts6">Run the </span><span class="rvts22">Test Renamed Module API.vi</span><span class="rvts6"> and observe how all the places where used to have the old module’s name have the new one.</span></li>
</ol>
<p class="rvps9"><img alt="Rename DQMH Module wizard." style="padding : 1px;" src="lib/Rename DQMH Module wizard.png"></p>
<p class="rvps9"><span class="rvts6"><br/></span></p>
<p class="rvps9"><img alt="Do not forget to edit the icon for the DQMH renamed module!" style="padding : 1px;" src="lib/Edit the icon for the DQMH renamed module.png"></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="ValidatinganExistingDQMHModule"></a><h2>Validating an Existing DQMH Module</h2>
<p></p>
<p class="rvps2"><span class="rvts6">Each DQMH release adds new features and improvements.</span></p>
<p class="rvps2"><span class="rvts6">The Validate DQMH utility analyzes a DQMH module and suggests fixes to implement the improvements from the newer versions.</span></p>
<p class="rvps2"><span class="rvts6">A description of this tool can be found on the video "DQMH Productivity Tools" found at : </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH </a><a class="rvts31" href="http://bit.ly/DelacorQMH" target="_blank">starting at minute 19:44. The video is embedded below:</a></p>
<p class="rvps2"><span class="rvts25">            <iframe width="560" height="315" src="https://www.youtube.com/embed/V56ZTI5H8eM?showinfo=0" frameborder="0" allowfullscreen=""></iframe></span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<p class="rvps2"><span class="rvts25">How to use the tool:</span></p>
<ol style="text-indent: 0px; margin-left: 24px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps2"><span class="rvts6">Go to </span><span class="rvts14">Tools&gt;Delacor&gt;DQMH&gt;Validate DQMH Module…</span></li>
<li value="2" class="rvps2"><span class="rvts6">A prompt will show the available DQMH modules in the current project.</span></li>
<li value="3" class="rvps2"><span class="rvts6">Select the DQMH module to validate.</span></li>
<li value="4" class="rvps2"><span class="rvts6">Follow the prompts.</span></li>
</ol>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The Validate DQMH utility looks for all of the following items in an lvlib to determine if it is a DQMH or not:</span></p>
<p class="rvps18"><span class="rvts6">1. Public API &gt; Requests folder</span></p>
<p class="rvps18"><span class="rvts6">2. Public API &gt; Arguments &gt; Request folder</span></p>
<p class="rvps18"><span class="rvts6">3. Public API &gt; Arguments &gt; Broadcast folder</span></p>
<p class="rvps18"><span class="rvts6">4. Broadcasts folder</span></p>
<p class="rvps18"><span class="rvts6">5. Obtain Broadcast Events.vi</span></p>
<p class="rvps18"><span class="rvts6">6. Destroy Broadcast Events.vi</span></p>
<p class="rvps18"><span class="rvts6">7. Obtain Request Events.vi</span></p>
<p class="rvps18"><span class="rvts6">8. Destroy Request Events.vi</span></p>
<p class="rvps18"><span class="rvts6">9. Request Events--cluster.ctl</span></p>
<p class="rvps18"><span class="rvts6">10. Broadcast Events--cluster.ctl</span></p>
<p class="rvps18"><span class="rvts6">11. Module Timeout--constant.vi</span></p>
<p class="rvps18"><span class="rvts6">12. Module Name--constant.vi</span></p>
<p class="rvps18"><span class="rvts6">13. Status Updated.vi</span></p>
<p class="rvps18"><span class="rvts6">14. Module Not Running--error.vi</span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="RelatedInformation"></a><h1>Related Information</h1>
<p></p>
<p class="rvps2"><span class="rvts6">The Delacor Queued Message Handler (DQMH) template is based on the </span><a class="rvts12" href="http://www.ni.com/tutorial/53391/en/" target="_blank">National Instruments Queued Message Handler Project Template (NI QMH) </a><span class="rvts6">that ships with LabVIEW 2012 and later. The NI QMH documentation can be found by clicking </span><span class="rvts14">Create Project </span><span class="rvts6">from the </span><span class="rvts14">Getting Started</span><span class="rvts6"> window in LabVIEW and then clicking the </span><span class="rvts14">More Information</span><span class="rvts6"> link in the NI QMH project description. You can also create a project based on this template, which will include a copy of the documentation.</span></p>
<p class="rvps2"><span class="rvts6">Implementing communication between DQMH modules using events was based on the concepts presented by Justin Goeres during CLA Summit 2011 and NIWeek 2011 (more information </span><a class="rvts12" href="http://blog.jki.net/events/niweek-2011-beyond-state-machines-slides-and-code-now-available/" target="_blank">here</a><span class="rvts6">). The main modifications to Justin’s approach were (1) changing the </span><a class="rvts11" href="#Nomenclature">nomenclature</a><span class="rvts6"> from Private/Public events to </span><a class="rvts11" href="#Request">Request</a><span class="rvts6">/</span><a class="rvts11" href="#Broadcast">Broadcast</a><span class="rvts6"> </span><a class="rvts11" href="#DQMH%20Event">events</a><span class="rvts6">, and (2) using the NI QMH as the basis for the modules instead of the JKI State Machine.</span></p>
<p class="rvps2"><span class="rvts6">Refer to the </span><a class="rvts11" href="#DQMH%20Event">Thermal Chamber Control example</a><span class="rvts6"> available from the </span><span class="rvts14">Help&gt;Find Examples…&gt;Directory Structure&gt;DelacorDelacor QMH&gt;DQMH Fundamentals – Thermal Chamber</span><span class="rvts6"> for examples on how to use this template in applications.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Getting started videos and demonstrations can be found at: </span><a class="rvts12" href="http://bit.ly/DelacorQMH" target="_blank">bit.ly/DelacorQMH</a></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">DQMH Best Practices and Guidelines can be found at: </span><a class="rvts12" href="http://delacor.com/dqmh-documentation/dqmh-best-practices/" target="_blank">DQMH Best Practices</a></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a><a name="LegalInformation"></a><h1>Legal Information</h1>
<p></p>
<p class="rvps2"><span class="rvts6">Copyright © 2015-2017 by Delacor, LLC. All Rights Reserved.</span></p>
<p class="rvps2"><span class="rvts6">Under the copyright laws, this publication may not be reproduced or transmitted in any form, electronic or mechanical, including photocopying, recording, storing in an information retrieval system, or translating, in whole or in part, without the prior written consent of Delacor, LLC.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p></p>
<br><a href="#DQMHTOC">Table Of Contents</a></body>
</html>

